[
    {
        "id": "51d5b6b0.96ea48",
        "type": "tab",
        "label": "System",
        "disabled": false,
        "info": ""
    },
    {
        "id": "23b63e27.d6a402",
        "type": "tab",
        "label": "To Gsheet",
        "disabled": false,
        "info": ""
    },
    {
        "id": "10fdb02cfaef00f1",
        "type": "tab",
        "label": "FlowmeterIN",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "4e5c35f7.142ffc",
        "type": "tab",
        "label": "FuelLevel",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7d5d401.6ec5c8",
        "type": "tab",
        "label": "Temp",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7d3e1120.3056a",
        "type": "tab",
        "label": "Density",
        "disabled": false,
        "info": ""
    },
    {
        "id": "885cfdcb.4c18f8",
        "type": "tab",
        "label": "Counter",
        "disabled": false,
        "info": ""
    },
    {
        "id": "363f2683.db1e3a",
        "type": "tab",
        "label": "Trigger ",
        "disabled": false,
        "info": ""
    },
    {
        "id": "b0c48d96.b10fb",
        "type": "tab",
        "label": "Gantry",
        "disabled": false,
        "info": ""
    },
    {
        "id": "905a82.fdaaf58",
        "type": "tab",
        "label": "Info",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6e83e7a9.0f97a8",
        "type": "tab",
        "label": "Download",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a15ab1d7.fa063",
        "type": "tab",
        "label": "Dummy",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e9b71a55.b25c68",
        "type": "subflow",
        "name": "Loops",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 40,
                "y": 40,
                "wires": [
                    {
                        "id": "9f7aa00f.d31ab"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 640,
                "y": 40,
                "wires": [
                    {
                        "id": "f2a7b456.1521f8",
                        "port": 0
                    }
                ]
            },
            {
                "x": 540,
                "y": 260,
                "wires": [
                    {
                        "id": "71533a81.973c84",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "81be96ea.0b0df8",
        "type": "group",
        "z": "b0c48d96.b10fb",
        "name": "User Interface Dashboard",
        "style": {
            "label": true
        },
        "nodes": [
            "576e647d.e85f1c",
            "db68f84a.348b08",
            "fb5c17b2.085458",
            "54a6928a.c6715c",
            "16ceb84.8bfcf48",
            "a2fb1c5.45b29e",
            "a3e269f9.425ab8",
            "f0f7433b.31225",
            "3b28751.b638a8a",
            "6dbac86a.b45428",
            "21635ebc.068032",
            "90ceecf5.d9acb",
            "c2ce19a3.325be8",
            "e86186d6.efbe28",
            "695b02b9.1e93ac",
            "878c15cc.e0cc28",
            "3958aa4a.9f17d6"
        ],
        "x": 54,
        "y": 1039,
        "w": 932,
        "h": 342
    },
    {
        "id": "ce348537.9de0d8",
        "type": "group",
        "z": "b0c48d96.b10fb",
        "name": "UI Flow Meter",
        "style": {
            "label": true
        },
        "nodes": [
            "66d4772f.e90c28",
            "81bb8c0.f45d978",
            "ed064dbe.13414",
            "ef5d6d20.0fd75",
            "d9c30395.5e0ac",
            "62585e4b.6ef7",
            "2283218.702d1de",
            "d8d9262e.2924c8",
            "f3139035.d29",
            "21e0529f.e806be",
            "26cee02e.e7efc",
            "92041094.9e0d1",
            "7b6df461.b898dc",
            "ed066cfa.461b1",
            "3a90d3fa.779a7c",
            "3bd5d792.077f18",
            "62d1b0c7.c6965",
            "12d95098.a75d5f",
            "f404c908.241de8",
            "9b370afc.3a8958",
            "ce5a3743.052bd8",
            "62dba0db.44159",
            "64c5cfd.c256d3",
            "9f0237f7.8cf0f8",
            "464f2bbe.bbc934",
            "cfd3a907.2622e8",
            "4ace3720.ac77e8"
        ],
        "x": 54,
        "y": 1419,
        "w": 872,
        "h": 482
    },
    {
        "id": "ffd8f702.acd348",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "name": "Create Report",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "43686ca2.cf2284",
            "162f2cb5.09d233",
            "d0ecd01.2dba03",
            "a1ff26e4.23bd88",
            "2d578ca9.e4c8f4",
            "cfceae67.4fb3d",
            "ce9164e0.225cd8",
            "b18f7c54.5e8c7",
            "e54ffb6c.0ea818",
            "1acb5ae1.edda55",
            "b812f603.343de8",
            "61dddfb6.ac435",
            "ceff6d97.75ae"
        ],
        "x": 14,
        "y": 299,
        "w": 972,
        "h": 282
    },
    {
        "id": "4c05d764.457458",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "name": "Connection Check",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "e8697b64.f93078",
            "18161d21.9930e3",
            "ae4879e.341da88",
            "96a06e41.f8d6c",
            "26238be1.713b04",
            "f3031d7e.d4926",
            "ccdb073f.730498",
            "2bb796a6.d572ea",
            "efe5ef80.73f17"
        ],
        "x": 14,
        "y": 19,
        "w": 532,
        "h": 262
    },
    {
        "id": "2d399f1f.cf662",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "name": "Auto Send data to Cloud",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "c0eca3e0.13b8a",
            "a694c449.14c618",
            "80a22c23.4dc1f",
            "5ee277e7.540be8",
            "84b386c7.93b118",
            "5f34df88.0b401",
            "513039e9.7f63d8",
            "682bdc39.2a6424",
            "ac517255.4f828",
            "bd1647e3.656038",
            "25bb5dc1.d3c1b2",
            "adfa7920.e6bb78",
            "38ab9859.69ba18",
            "c83a78a1.a60908"
        ],
        "x": 8,
        "y": 599,
        "w": 1238,
        "h": 328
    },
    {
        "id": "f8eb6c9c.996f9",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "name": "Restart Network System",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "aaa7c237.e77b1",
            "efee6142.ac484",
            "f789cee1.13de1",
            "cad29d44.27ea4",
            "928e1925.a527d8",
            "316b3b7.bb053c4",
            "20e7e29a.8cb1ce",
            "5d6ca4d.493e55c",
            "8c0e3fa0.a392e",
            "8c3716eb.836558",
            "714f90e8.a52e",
            "ef5b9e1c.a4903"
        ],
        "x": 574,
        "y": 91.5,
        "w": 812,
        "h": 157
    },
    {
        "id": "93366cbc.25a1d",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "name": "Get Liter From Cloud",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "2ba35820.3e7ac8",
            "2806d63e.f544fa",
            "eaf62bd0.951d5",
            "5366023b.09d68c",
            "9553ef96.ffe06",
            "ca87aee3.c232",
            "61320f31.c975c"
        ],
        "x": 14,
        "y": 959,
        "w": 732,
        "h": 162
    },
    {
        "id": "7fa162ca.0a827c",
        "type": "group",
        "z": "4e5c35f7.142ffc",
        "name": "Get Data From Node",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "ed6aa8e2.8dff48",
            "c8487fe.bdbb28",
            "8e41dedf.d0c08",
            "5a6425b1.e8177c",
            "53a57b60.83f954"
        ],
        "x": 104,
        "y": 19,
        "w": 542,
        "h": 122
    },
    {
        "id": "d599c6e4.b56408",
        "type": "group",
        "z": "4e5c35f7.142ffc",
        "name": "Record Node Data",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "5aca3b0.47301c4",
            "8f473dc4.b344f",
            "a86f5d58.a7201",
            "df0ac90d.65f138",
            "d071bb4e.57b778",
            "4a1f1a8b.7ebf64",
            "8f788c2a.9d49",
            "d415fd1a.ac51e",
            "510eb02d.0c413",
            "fd78667e.8983e8",
            "3204ec38.3cb7b4",
            "2d9df797.77b278",
            "e5ea36dd.7b1938",
            "7fbd8479.a16f6c",
            "cdd5b89f.e9ac68",
            "b8e73a82.327d08",
            "3fae7bad.f411a4",
            "68871f8e.9093",
            "996a2e15.f745d",
            "d9b315fc.865048",
            "7e500c7d.93df84",
            "f233177d.641c68",
            "af980754.516df8",
            "c5c82f31.005b9",
            "e2b8d511.eed7f8",
            "dd44fa75.d3c6b8",
            "6141cb7c.64fbd4",
            "4513899e.69b018"
        ],
        "x": 34,
        "y": 139,
        "w": 972,
        "h": 362
    },
    {
        "id": "bd1647e3.656038",
        "type": "group",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": "FlagSendedFile",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "6b1cb4ea.42c36c",
            "18f06b3e.e9b625",
            "5696b8d2.029198",
            "6d8bd25c.0b2b3c",
            "c46b13df.0ef2d",
            "a95c034.8ce9f",
            "175c33b6.d7885c",
            "14438960.addab7"
        ],
        "x": 34,
        "y": 759,
        "w": 712,
        "h": 142
    },
    {
        "id": "539541cb253d9d01",
        "type": "junction",
        "z": "10fdb02cfaef00f1",
        "x": 500,
        "y": 280,
        "wires": [
            [
                "de41df9f10293daa"
            ]
        ]
    },
    {
        "id": "84bfef4e.7ae4d",
        "type": "mqtt-broker",
        "name": "LocalRaspiKelanis",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "6538926a.ad8a7c",
        "type": "mqtt-broker",
        "name": "AdaroCloud",
        "broker": "ptmbp.co.id",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "1f3ec2e77df9e58f",
        "type": "mqtt-broker",
        "name": "",
        "broker": "51.15.242.36",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "sessionExpiry": ""
    },
    {
        "id": "8a40d157.02859",
        "type": "gauth",
        "name": "yogiazy-9245@python-data-369310.iam.gserviceaccount.com"
    },
    {
        "id": "ac2f667d.928a08",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "fuelLevel",
        "name": "",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x",
        "url": "http://localhost:8086",
        "rejectUnauthorized": true
    },
    {
        "id": "a7bada98.f31eb8",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": "8086",
        "protocol": "http",
        "database": "Device",
        "name": "",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "1.x",
        "url": "http://localhost:8086",
        "rejectUnauthorized": true
    },
    {
        "id": "c8587358.83019",
        "type": "modbus-client",
        "name": "FLOWX/S",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "192.168.5.200",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "aa0db394.2e8b6",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "1a5b5461.031c0c",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ae653e8c.44548",
        "type": "ui_group",
        "name": "Tangki 1",
        "tab": "1a5b5461.031c0c",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "673e15ed.5b759c",
        "type": "ui_group",
        "name": "Tangki 2",
        "tab": "1a5b5461.031c0c",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5602deb8.92607",
        "type": "ui_group",
        "name": "Tangki 3",
        "tab": "1a5b5461.031c0c",
        "order": 7,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b53b736c.38bb6",
        "type": "ui_group",
        "name": "Tangki 4",
        "tab": "1a5b5461.031c0c",
        "order": 8,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1a2efe13d5aa88de",
        "type": "mqtt-broker",
        "name": "",
        "broker": "51.15.243.241",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "9f7aa00f.d31ab",
        "type": "function",
        "z": "e9b71a55.b25c68",
        "name": "InitiateLoop",
        "func": "var data = msg.payload;\nvar limit = data.length;\nflow.set(\"data\",data);\nflow.set(\"limit\",limit);\nmsg.topic = \"0\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 170,
        "y": 40,
        "wires": [
            [
                "f2a7b456.1521f8"
            ]
        ]
    },
    {
        "id": "f2a7b456.1521f8",
        "type": "function",
        "z": "e9b71a55.b25c68",
        "name": "Loop",
        "func": "var data = flow.get(\"data\");\nvar count = parseInt(msg.topic);\nmsg.payload = data[count];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 40,
        "wires": [
            [
                "31bc9e4a.f0c962"
            ]
        ]
    },
    {
        "id": "26ad85dd.1a426a",
        "type": "link in",
        "z": "e9b71a55.b25c68",
        "name": "",
        "links": [
            "6e495066.b7de"
        ],
        "x": 215,
        "y": 80,
        "wires": [
            [
                "f2a7b456.1521f8"
            ]
        ]
    },
    {
        "id": "31bc9e4a.f0c962",
        "type": "link out",
        "z": "e9b71a55.b25c68",
        "name": "",
        "links": [
            "4642e834.27d108"
        ],
        "x": 395,
        "y": 80,
        "wires": []
    },
    {
        "id": "6e495066.b7de",
        "type": "link out",
        "z": "e9b71a55.b25c68",
        "name": "",
        "links": [
            "26ad85dd.1a426a"
        ],
        "x": 655,
        "y": 180,
        "wires": []
    },
    {
        "id": "4642e834.27d108",
        "type": "link in",
        "z": "e9b71a55.b25c68",
        "name": "",
        "links": [
            "31bc9e4a.f0c962"
        ],
        "x": 95,
        "y": 180,
        "wires": [
            [
                "db2b7400.81c1e8"
            ]
        ]
    },
    {
        "id": "db2b7400.81c1e8",
        "type": "function",
        "z": "e9b71a55.b25c68",
        "name": "Increment",
        "func": "var limit = flow.get(\"limit\");\nvar count = parseInt(msg.topic);//0\ncount++;//1\nif(count>=limit){\n    msg.payload = null;\n}\nmsg.topic = String(count);//1\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 200,
        "y": 180,
        "wires": [
            [
                "6b0c2d4d.1d2934"
            ]
        ]
    },
    {
        "id": "6b0c2d4d.1d2934",
        "type": "switch",
        "z": "e9b71a55.b25c68",
        "name": "Continue?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            },
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 350,
        "y": 180,
        "wires": [
            [
                "f20c27b7.bee1c8"
            ],
            [
                "71533a81.973c84"
            ]
        ]
    },
    {
        "id": "f20c27b7.bee1c8",
        "type": "delay",
        "z": "e9b71a55.b25c68",
        "name": "",
        "pauseType": "delayv",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 540,
        "y": 180,
        "wires": [
            [
                "6e495066.b7de"
            ]
        ]
    },
    {
        "id": "71533a81.973c84",
        "type": "function",
        "z": "e9b71a55.b25c68",
        "name": "GiveLength",
        "func": "msg.payload = flow.get(\"limit\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 430,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "43686ca2.cf2284",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "All Data",
        "func": "var query = \"\";\nvar time = \"1h\";\n//Fuel 1\nquery += \"SELECT * FROM FuelTangki1 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Fuel 2\nquery += \"SELECT * FROM FuelTangki2 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Fuel 3\nquery += \"SELECT * FROM FuelTangki3 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Fuel 4\nquery += \"SELECT * FROM FuelTangki4 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Temp 1\nquery += \"SELECT * FROM TempTangki1 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Temp 2\nquery += \"SELECT * FROM TempTangki2 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Temp 3\nquery += \"SELECT * FROM TempTangki3 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Temp 4\nquery += \"SELECT * FROM TempTangki4 WHERE time > now() -\"+String(time)+\" ORDER BY time DESC LIMIT 1;\";\n//Density Gentry 1\nquery += \"SELECT * FROM DensityGantry1New WHERE time > now() -\"+String(time)+\"*1000000 ORDER BY time DESC LIMIT 1;\";\n//Density Gentry 2\nquery += \"SELECT * FROM DensityGantry2New WHERE time > now() -\"+String(time)+\"*1000000 ORDER BY time DESC LIMIT 1;\";\n//Density Gentry 3\nquery += \"SELECT * FROM DensityGantry3New WHERE time > now() -\"+String(time)+\"*1000000 ORDER BY time DESC LIMIT 1;\";\n//Density Gentry 4\nquery += \"SELECT * FROM DensityGantry4New WHERE time > now() -\"+String(time)+\"*1000000 ORDER BY time DESC LIMIT 1;\";\nmsg.query = query;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 500,
        "wires": [
            [
                "162f2cb5.09d233"
            ]
        ]
    },
    {
        "id": "e8697b64.f93078",
        "type": "ping",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "protocol": "Automatic",
        "mode": "timed",
        "name": "",
        "host": "36.92.113.244",
        "timer": "1",
        "inputs": 0,
        "x": 120,
        "y": 100,
        "wires": [
            [
                "ae4879e.341da88",
                "efe5ef80.73f17"
            ]
        ]
    },
    {
        "id": "18161d21.9930e3",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 450,
        "y": 80,
        "wires": []
    },
    {
        "id": "ae4879e.341da88",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": "Internet Status",
        "func": "var data = parseFloat(String(msg.payload));\nif(data>0){\n    flow.set(\"InternetStatus\",\"Online\");\n    msg.payload = \"Online\";\n    msg.topic = \"Online\";\n}else{\n    flow.set(\"InternetStatus\",\"Offline\");\n    msg.payload = \"Offline\";\n    msg.topic = \"Offline\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 100,
        "wires": [
            [
                "18161d21.9930e3",
                "26238be1.713b04"
            ]
        ]
    },
    {
        "id": "96a06e41.f8d6c",
        "type": "comment",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": "Check Internet",
        "info": "",
        "x": 120,
        "y": 60,
        "wires": []
    },
    {
        "id": "d0ecd01.2dba03",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "Send",
        "func": "var data = msg.payload;\nvar arr = [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];\nfor(i=0;i<data.length;i++){\n    try{\n        arr[i] = data[i][0].Value;\n    }catch(x){\n        arr[i] = -1;\n    }\n}\n\n\nvar full = {\n            \"time\":(Date.now())*1000000,\n            \"stat\":\"0\",\n            \"FuelTangki1\":arr[0],\n            \"FuelTangki2\":arr[1],\n            \"FuelTangki3\":arr[2],\n            \"FuelTangki4\":arr[3],\n            \"TempTangki1\":arr[4],\n            \"TempTangki2\":arr[5],\n            \"TempTangki3\":arr[6],\n            \"TempTangki4\":arr[7],\n            \"DSG1\":arr[8],\n            \"DSG2\":arr[9],\n            \"DSG3\":arr[10],\n            \"DSG4\":arr[11]\n            }\nmsg.payload = full;\nmsg.topic = flow.get(\"InternetStatus\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 500,
        "wires": [
            [
                "2d578ca9.e4c8f4",
                "b18f7c54.5e8c7",
                "b812f603.343de8"
            ]
        ]
    },
    {
        "id": "a1ff26e4.23bd88",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "Trigger Every 30 seconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 400,
        "wires": [
            [
                "cfceae67.4fb3d"
            ]
        ]
    },
    {
        "id": "cfceae67.4fb3d",
        "type": "link out",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "Trigger Every 30 Minutes",
        "links": [
            "ce9164e0.225cd8"
        ],
        "x": 375,
        "y": 380,
        "wires": []
    },
    {
        "id": "ce9164e0.225cd8",
        "type": "link in",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "Send Data to Cloud",
        "links": [
            "cfceae67.4fb3d"
        ],
        "x": 75,
        "y": 500,
        "wires": [
            [
                "43686ca2.cf2284"
            ]
        ]
    },
    {
        "id": "26238be1.713b04",
        "type": "link out",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": "InternetStatus",
        "links": [
            "7e80d819.11ae08",
            "7bbb8931.6f84e8"
        ],
        "x": 415,
        "y": 140,
        "wires": []
    },
    {
        "id": "b18f7c54.5e8c7",
        "type": "mqtt out",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "",
        "topic": "fuelkelanis",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 570,
        "y": 540,
        "wires": []
    },
    {
        "id": "fcf4dad2.61ce58",
        "type": "comment",
        "z": "51d5b6b0.96ea48",
        "name": "---FLOWX---",
        "info": "",
        "x": 90,
        "y": 4520,
        "wires": []
    },
    {
        "id": "9006103e.11a5a",
        "type": "buffer-parser",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 250,
        "y": 4580,
        "wires": [
            [
                "85d52c0c.99b1a"
            ]
        ]
    },
    {
        "id": "2e706513.9b6a1a",
        "type": "buffer-parser",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 250,
        "y": 4680,
        "wires": [
            [
                "e8c93bd6.d12558"
            ]
        ]
    },
    {
        "id": "85d52c0c.99b1a",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "name": " ",
        "func": "msg.payload.value = msg.payload.value*100;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 4600,
        "wires": [
            [
                "16765d69.8480f3",
                "8b2471a3.3b727"
            ]
        ]
    },
    {
        "id": "e8c93bd6.d12558",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "name": " ",
        "func": "msg.payload.value = msg.payload.value*100;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 4700,
        "wires": [
            [
                "c9574a9.5bbc4b8",
                "36208479.81a3dc"
            ]
        ]
    },
    {
        "id": "ba782a30.8d28b8",
        "type": "buffer-parser",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 250,
        "y": 4800,
        "wires": [
            [
                "a699dba0.d5fc88"
            ]
        ]
    },
    {
        "id": "a699dba0.d5fc88",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "name": " ",
        "func": "msg.payload.value = msg.payload.value*100;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 4820,
        "wires": [
            [
                "5d101f9c.ca057",
                "7555a273.5f7dbc"
            ]
        ]
    },
    {
        "id": "8b2471a3.3b727",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 550,
        "y": 4520,
        "wires": []
    },
    {
        "id": "36208479.81a3dc",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 550,
        "y": 4620,
        "wires": []
    },
    {
        "id": "7555a273.5f7dbc",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 550,
        "y": 4740,
        "wires": []
    },
    {
        "id": "e54ffb6c.0ea818",
        "type": "mqtt in",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": "",
        "topic": "triggerfuelkelanis",
        "qos": "2",
        "datatype": "auto",
        "broker": "6538926a.ad8a7c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 180,
        "y": 340,
        "wires": [
            [
                "cfceae67.4fb3d"
            ]
        ]
    },
    {
        "id": "1acb5ae1.edda55",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 540,
        "wires": []
    },
    {
        "id": "8bc3d187.36a7d",
        "type": "mqtt out",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "topic": "ToVB",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 440,
        "y": 4880,
        "wires": []
    },
    {
        "id": "09b3b3a0fc699826",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "sys/){info:\"OK\"}",
        "payloadType": "str",
        "x": 140,
        "y": 4880,
        "wires": [
            [
                "8bc3d187.36a7d"
            ]
        ]
    },
    {
        "id": "ee7ec6bb10816a8c",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "sensor/){\"time\":\"2022-08-14T19:10:26.649Z\",\"Tangki1\":715153.37,\"Tangki2\":1255502.65,\"Tangki3\":539036,\"Tangki4\":573281.52,\"TempTangki1\":886,\"TempTangki2\":917,\"TempTangki3\":805,\"TempTangki4\":841,\"DSG3\":864}",
        "payloadType": "str",
        "x": 110,
        "y": 4980,
        "wires": [
            [
                "8bc3d187.36a7d"
            ]
        ]
    },
    {
        "id": "2ba35820.3e7ac8",
        "type": "mqtt in",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": " Return Liters",
        "topic": "fuelkelanisfeedbackliter",
        "qos": "2",
        "datatype": "auto",
        "broker": "6538926a.ad8a7c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 110,
        "y": 1040,
        "wires": [
            [
                "eaf62bd0.951d5"
            ]
        ]
    },
    {
        "id": "2806d63e.f544fa",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 1060,
        "wires": []
    },
    {
        "id": "eaf62bd0.951d5",
        "type": "json",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": " ",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 250,
        "y": 1040,
        "wires": [
            [
                "5366023b.09d68c",
                "61320f31.c975c"
            ]
        ]
    },
    {
        "id": "f3031d7e.d4926",
        "type": "mqtt out",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": "",
        "topic": "PingKelanis",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6538926a.ad8a7c",
        "x": 290,
        "y": 200,
        "wires": []
    },
    {
        "id": "ccdb073f.730498",
        "type": "ping",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "protocol": "Automatic",
        "mode": "timed",
        "name": "",
        "host": "36.92.113.244",
        "timer": "1",
        "inputs": 0,
        "x": 120,
        "y": 200,
        "wires": [
            [
                "f3031d7e.d4926",
                "2bb796a6.d572ea"
            ]
        ]
    },
    {
        "id": "2bb796a6.d572ea",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 280,
        "y": 240,
        "wires": []
    },
    {
        "id": "5366023b.09d68c",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": "Insert",
        "func": "msg.payload['time']= 1000000*parseInt(String(Date.parse(msg.payload.time)));\nfor(i=0;i<4;i++){\n    msg.payload['TempTangki'+String(i+1)] = map_range( msg.payload['TempTangki'+String(i+1)],400,2000,0,100);\n}\nfor(i=0;i<4;i++){\n    msg.payload['DSG'+String(i+1)]= map_range(msg.payload['DSG'+String(i+1)],400,2000,0,2);\n}\n\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return res;\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1040,
        "wires": [
            [
                "9553ef96.ffe06",
                "ca87aee3.c232"
            ]
        ]
    },
    {
        "id": "efe5ef80.73f17",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "4c05d764.457458",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 270,
        "y": 140,
        "wires": []
    },
    {
        "id": "c0eca3e0.13b8a",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "25",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 680,
        "wires": [
            [
                "a694c449.14c618"
            ]
        ]
    },
    {
        "id": "a694c449.14c618",
        "type": "trigger",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "op1": "1",
        "op2": "",
        "op1type": "str",
        "op2type": "nul",
        "duration": "20",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 230,
        "y": 680,
        "wires": [
            [
                "80a22c23.4dc1f"
            ]
        ]
    },
    {
        "id": "80a22c23.4dc1f",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "func": "msg.query = \"SELECT * FROM StatusFuelTempNew where stat = '0' order by time asc limit 10;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 680,
        "wires": [
            [
                "5ee277e7.540be8"
            ]
        ]
    },
    {
        "id": "84b386c7.93b118",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.length",
        "targetType": "msg",
        "statusVal": "payload.length",
        "statusType": "auto",
        "x": 1090,
        "y": 640,
        "wires": []
    },
    {
        "id": "5f34df88.0b401",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "func": "var d = msg.payload;\nfor(i=0;i<d.length;i++){\n    d[i]['time'] = ((d[i].time)*1000000);\n}\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 680,
        "wires": [
            [
                "84b386c7.93b118",
                "682bdc39.2a6424"
            ]
        ]
    },
    {
        "id": "513039e9.7f63d8",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "reset",
                "v": "ok",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 640,
        "wires": [
            [
                "a694c449.14c618"
            ]
        ]
    },
    {
        "id": "b812f603.343de8",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": " ",
        "func": "msg.payload['time'] = Date.now();\nreturn msg;\n\n// var full = {\n//             \"time\":(Date.now())*1000000,\n//             \"stat\":\"0\",\n//             \"FuelTangki1\":arr[0],\n//             \"FuelTangki2\":arr[1],\n//             \"FuelTangki3\":arr[2],\n//             \"FuelTangki4\":arr[3],\n//             \"TempTangki1\":arr[4],\n//             \"TempTangki2\":arr[5],\n//             \"TempTangki3\":arr[6],\n//             \"TempTangki4\":arr[7],\n//             \"DSG1\":arr[8],\n//             \"DSG2\":arr[9],\n//             \"DSG3\":arr[10],\n//             \"DSG4\":arr[11]\n//             }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 500,
        "wires": [
            [
                "61dddfb6.ac435",
                "ceff6d97.75ae"
            ]
        ]
    },
    {
        "id": "61dddfb6.ac435",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 500,
        "wires": []
    },
    {
        "id": "682bdc39.2a6424",
        "type": "mqtt out",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": "",
        "topic": "SendDataKelanis",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6538926a.ad8a7c",
        "x": 1130,
        "y": 720,
        "wires": []
    },
    {
        "id": "ac517255.4f828",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "func": "var d = msg.payload.results[0].series[0].values;\nvar da = msg.payload.results[0].series[0].columns;\nvar arr = [];\nfor(i=0;i<d.length;i++){\n    var json = {};\n    json[da[0]] = d[i][0];\n    json[da[1]] = d[i][1];\n    json[da[2]] = d[i][2];\n    json[da[3]] = d[i][3];\n    json[da[4]] = d[i][4];\n    json[da[5]] = d[i][5];\n    json[da[6]] = d[i][6];\n    json[da[7]] = d[i][7];\n    json[da[8]] = d[i][8];\n    json[da[9]] = d[i][9];\n    json[da[10]] = d[i][10];\n    json[da[11]] = d[i][11];\n    json[da[12]] = d[i][12];\n    json[da[13]] = d[i][13];\n    arr.push(json);\n}\nmsg.payload= arr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 680,
        "wires": [
            [
                "5f34df88.0b401"
            ]
        ]
    },
    {
        "id": "6b1cb4ea.42c36c",
        "type": "mqtt in",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": "",
        "topic": "SendDataKelanisDone",
        "qos": "2",
        "datatype": "auto",
        "broker": "6538926a.ad8a7c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 160,
        "y": 800,
        "wires": [
            [
                "18f06b3e.e9b625"
            ]
        ]
    },
    {
        "id": "18f06b3e.e9b625",
        "type": "json",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": "",
        "property": "payload",
        "action": "obj",
        "pretty": false,
        "x": 330,
        "y": 800,
        "wires": [
            [
                "5696b8d2.029198",
                "c46b13df.0ef2d"
            ]
        ]
    },
    {
        "id": "5696b8d2.029198",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": " ",
        "func": "msg.payload['stat'] = \"1\";\nmsg.payload['time'] = Math.round(msg.payload.time/1000000);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 800,
        "wires": [
            [
                "6d8bd25c.0b2b3c"
            ]
        ]
    },
    {
        "id": "c46b13df.0ef2d",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 860,
        "wires": []
    },
    {
        "id": "8595abe2.45e868",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "name": "Rate",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "10",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 830,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "5dd18df1.8d0fc4",
        "type": "switch",
        "z": "51d5b6b0.96ea48",
        "name": " Offline?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Offline",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 700,
        "y": 40,
        "wires": [
            [
                "8595abe2.45e868"
            ]
        ]
    },
    {
        "id": "ca87aee3.c232",
        "type": "switch",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": " ",
        "property": "payload.Tangki1",
        "propertyType": "msg",
        "rules": [
            {
                "t": "null"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 1080,
        "wires": [
            [
                "2806d63e.f544fa"
            ]
        ]
    },
    {
        "id": "ebe5858d.5cf778",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "name": " Still Offline?",
        "func": "if(flow.get(\"InternetStatus\")==\"Online\"){\n    msg.payload = null;\n}else{\n    msg.payload = \"execute\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 40,
        "wires": [
            [
                "838765a0.4fdb98"
            ]
        ]
    },
    {
        "id": "838765a0.4fdb98",
        "type": "switch",
        "z": "51d5b6b0.96ea48",
        "name": " Offline?",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1240,
        "y": 40,
        "wires": [
            [
                "949ace70.52c55"
            ]
        ]
    },
    {
        "id": "aaa7c237.e77b1",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo rm /etc/network/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 710,
        "y": 140,
        "wires": [
            [
                "f789cee1.13de1"
            ],
            [],
            []
        ]
    },
    {
        "id": "efee6142.ac484",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo cp /etc/network/interfacesdisable /etc/network/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 950,
        "y": 140,
        "wires": [
            [
                "cad29d44.27ea4"
            ],
            [],
            []
        ]
    },
    {
        "id": "f789cee1.13de1",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": " ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 830,
        "y": 140,
        "wires": [
            [
                "efee6142.ac484"
            ]
        ]
    },
    {
        "id": "cad29d44.27ea4",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": " ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1070,
        "y": 140,
        "wires": [
            [
                "928e1925.a527d8"
            ]
        ]
    },
    {
        "id": "928e1925.a527d8",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo systemctl restart networking",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 1190,
        "y": 140,
        "wires": [
            [
                "5d6ca4d.493e55c"
            ],
            [],
            []
        ]
    },
    {
        "id": "316b3b7.bb053c4",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo cp /etc/network/interfacesenable /etc/network/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 950,
        "y": 200,
        "wires": [
            [
                "714f90e8.a52e"
            ],
            [],
            []
        ]
    },
    {
        "id": "20e7e29a.8cb1ce",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo rm /etc/network/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 710,
        "y": 200,
        "wires": [
            [
                "8c0e3fa0.a392e"
            ],
            [],
            []
        ]
    },
    {
        "id": "5d6ca4d.493e55c",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": " ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1310,
        "y": 140,
        "wires": [
            [
                "20e7e29a.8cb1ce"
            ]
        ]
    },
    {
        "id": "8c0e3fa0.a392e",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": " ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 830,
        "y": 200,
        "wires": [
            [
                "316b3b7.bb053c4"
            ]
        ]
    },
    {
        "id": "8c3716eb.836558",
        "type": "exec",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "command": "sudo systemctl restart networking",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": " ",
        "x": 1190,
        "y": 200,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "714f90e8.a52e",
        "type": "delay",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": " ",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1070,
        "y": 200,
        "wires": [
            [
                "8c3716eb.836558"
            ]
        ]
    },
    {
        "id": "7bbb8931.6f84e8",
        "type": "link in",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "links": [
            "26238be1.713b04"
        ],
        "x": 595,
        "y": 40,
        "wires": [
            [
                "5dd18df1.8d0fc4"
            ]
        ]
    },
    {
        "id": "949ace70.52c55",
        "type": "link out",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "links": [
            "ef5b9e1c.a4903"
        ],
        "x": 1335,
        "y": 40,
        "wires": []
    },
    {
        "id": "ef5b9e1c.a4903",
        "type": "link in",
        "z": "51d5b6b0.96ea48",
        "g": "f8eb6c9c.996f9",
        "name": "",
        "links": [
            "949ace70.52c55"
        ],
        "x": 615,
        "y": 140,
        "wires": [
            [
                "aaa7c237.e77b1"
            ]
        ]
    },
    {
        "id": "61320f31.c975c",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 1000,
        "wires": []
    },
    {
        "id": "25bb5dc1.d3c1b2",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "true",
        "targetType": "full",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 710,
        "y": 720,
        "wires": []
    },
    {
        "id": "c0902ba3.589168",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1200,
        "wires": [
            [
                "7cb5498d.723b78"
            ]
        ]
    },
    {
        "id": "dfe04434.9911d8",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 1160,
        "wires": []
    },
    {
        "id": "dafc564a.f2bd58",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "name": " ",
        "func": "var d = msg.payload.results[0].series[0].values;\nvar da = msg.payload.results[0].series[0].columns;\nvar arr = [];\nfor(i=0;i<d.length;i++){\n    var json = {};\n    json[da[0]] = Math.round(d[i][0]/1000000);\n    json[da[1]] = d[i][1];\n    json[da[2]] = d[i][2];\n    arr.push(json);\n}\nmsg.payload= arr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1200,
        "wires": [
            [
                "dfe04434.9911d8"
            ]
        ]
    },
    {
        "id": "a95c034.8ce9f",
        "type": "inject",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 550,
        "y": 860,
        "wires": [
            [
                "14438960.addab7"
            ]
        ]
    },
    {
        "id": "adfa7920.e6bb78",
        "type": "debug",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].count",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 670,
        "y": 860,
        "wires": []
    },
    {
        "id": "14438960.addab7",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "name": " ",
        "func": "msg.query = \"select count(stat) from StatusFuelTempNew where stat = '0';\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 860,
        "wires": [
            [
                "175c33b6.d7885c"
            ]
        ]
    },
    {
        "id": "38ab9859.69ba18",
        "type": "function",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "func": "if(Object.keys(msg.payload.results[0]).includes(\"series\")){\n    msg.pass = true;\n}else{\n    msg.pass = false;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 680,
        "wires": [
            [
                "c83a78a1.a60908",
                "25bb5dc1.d3c1b2"
            ]
        ]
    },
    {
        "id": "c83a78a1.a60908",
        "type": "switch",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "name": " ",
        "property": "pass",
        "propertyType": "msg",
        "rules": [
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 710,
        "y": 680,
        "wires": [
            [
                "ac517255.4f828"
            ]
        ]
    },
    {
        "id": "2d578ca9.e4c8f4",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "influxdb": "ac2f667d.928a08",
        "name": "StatusFuelTemp",
        "measurement": "StatusFuelTemp",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 580,
        "y": 460,
        "wires": []
    },
    {
        "id": "16765d69.8480f3",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "influxdb": "ac2f667d.928a08",
        "name": "DensityFlowx",
        "measurement": "DensityFlowx",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 550,
        "y": 4580,
        "wires": []
    },
    {
        "id": "c9574a9.5bbc4b8",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "influxdb": "ac2f667d.928a08",
        "name": "TempFlowx",
        "measurement": "TempFlowx",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 550,
        "y": 4680,
        "wires": []
    },
    {
        "id": "5d101f9c.ca057",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "influxdb": "ac2f667d.928a08",
        "name": "FlowrateFlowx",
        "measurement": "FlowrateFlowx",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 560,
        "y": 4800,
        "wires": []
    },
    {
        "id": "9553ef96.ffe06",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "g": "93366cbc.25a1d",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "measurement": "StatusFuelTempGrafana",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 530,
        "y": 1040,
        "wires": []
    },
    {
        "id": "ceff6d97.75ae",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "influxdb": "ac2f667d.928a08",
        "name": "StatusFuelTempNew",
        "measurement": "StatusFuelTempNew",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 720,
        "y": 500,
        "wires": []
    },
    {
        "id": "6d8bd25c.0b2b3c",
        "type": "influxdb out",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "influxdb": "ac2f667d.928a08",
        "name": "StatusFuelTempNew",
        "measurement": "StatusFuelTempNew",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 620,
        "y": 800,
        "wires": []
    },
    {
        "id": "162f2cb5.09d233",
        "type": "influxdb in",
        "z": "51d5b6b0.96ea48",
        "g": "ffd8f702.acd348",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 310,
        "y": 500,
        "wires": [
            [
                "d0ecd01.2dba03",
                "1acb5ae1.edda55"
            ]
        ]
    },
    {
        "id": "5ee277e7.540be8",
        "type": "influxdb in",
        "z": "51d5b6b0.96ea48",
        "g": "2d399f1f.cf662",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 680,
        "wires": [
            [
                "38ab9859.69ba18"
            ]
        ]
    },
    {
        "id": "7cb5498d.723b78",
        "type": "influxdb in",
        "z": "51d5b6b0.96ea48",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "select * from FuelTangki3 where time>1694836159036970725",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 270,
        "y": 1200,
        "wires": [
            [
                "dafc564a.f2bd58",
                "dfe04434.9911d8"
            ]
        ]
    },
    {
        "id": "175c33b6.d7885c",
        "type": "influxdb in",
        "z": "51d5b6b0.96ea48",
        "g": "bd1647e3.656038",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 670,
        "y": 860,
        "wires": [
            [
                "adfa7920.e6bb78"
            ]
        ]
    },
    {
        "id": "323d67c4.6a7dc8",
        "type": "modbus-read",
        "z": "51d5b6b0.96ea48",
        "name": "GetDensity",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "2603",
        "quantity": "2",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "1",
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 4580,
        "wires": [
            [],
            [
                "9006103e.11a5a"
            ]
        ]
    },
    {
        "id": "76d11503.03e6ac",
        "type": "modbus-read",
        "z": "51d5b6b0.96ea48",
        "name": "GetDensity",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "2525",
        "quantity": "2",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "1",
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 4680,
        "wires": [
            [],
            [
                "2e706513.9b6a1a"
            ]
        ]
    },
    {
        "id": "753f6108.52841",
        "type": "modbus-read",
        "z": "51d5b6b0.96ea48",
        "name": "GetDensity",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "1",
        "dataType": "HoldingRegister",
        "adr": "2543",
        "quantity": "2",
        "rate": "10",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "1",
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 100,
        "y": 4800,
        "wires": [
            [],
            [
                "ba782a30.8d28b8"
            ]
        ]
    },
    {
        "id": "8f0f8bf1.f25f48",
        "type": "inject",
        "z": "23b63e27.d6a402",
        "name": "FUELTANK1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "query",
                "v": "SELECT * FROM FuelTangki1 ORDER BY time DESC LIMIT 30",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 160,
        "wires": [
            [
                "998b4f80.416a7"
            ]
        ]
    },
    {
        "id": "a7165ce4.a421f",
        "type": "function",
        "z": "23b63e27.d6a402",
        "name": "",
        "func": "var d = msg.payload;\nvar len = d.length;\nvar data = [];\n\nfor (var i =0; i<len; i++) {\n    var date = new Date(d[i].time);\n    date.setHours(date.getHours() + 8);\n    var formattedDate = date.toISOString().split('T')[0];\n    var hours = date.getUTCHours().toString().padStart(2, '0');\n    var minutes = date.getUTCMinutes().toString().padStart(2, '0');\n    var seconds = date.getUTCSeconds().toString().padStart(2, '0');\n    var outputData = [formattedDate, hours + \":\" + minutes + \":\" + seconds, d[i].Value, d[i].deviceID];\n    data.push(outputData);\n}\n\nmsg.payload = data;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 160,
        "wires": [
            [
                "a53836f7.082e18",
                "d343aab6.6f7ac8"
            ]
        ]
    },
    {
        "id": "a53836f7.082e18",
        "type": "debug",
        "z": "23b63e27.d6a402",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 120,
        "wires": []
    },
    {
        "id": "b320f234.3daf7",
        "type": "inject",
        "z": "23b63e27.d6a402",
        "name": "FUELTANK2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "query",
                "v": "SELECT * FROM FuelTangki2 WHERE time >= 1694880000000000000",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 280,
        "wires": [
            [
                "1d9f81d5.705c0e"
            ]
        ]
    },
    {
        "id": "e07f6e9d.a014d",
        "type": "function",
        "z": "23b63e27.d6a402",
        "name": "",
        "func": "var d = msg.payload;\nvar len = d.length;\nvar data = [];\n\nfor (var i =0; i<len; i++) {\n    var date = new Date(d[i].time);\n    date.setHours(date.getHours() + 8);\n    var formattedDate = date.toISOString().split('T')[0];\n    var hours = date.getUTCHours().toString().padStart(2, '0');\n    var minutes = date.getUTCMinutes().toString().padStart(2, '0');\n    var seconds = date.getUTCSeconds().toString().padStart(2, '0');\n    var outputData = [formattedDate, hours + \":\" + minutes + \":\" + seconds, d[i].Value, d[i].deviceID];\n    data.push(outputData);\n}\n\nmsg.payload = data;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 280,
        "wires": [
            [
                "8a1abeb.79d324",
                "b1e772b2.c19fe"
            ]
        ]
    },
    {
        "id": "8a1abeb.79d324",
        "type": "debug",
        "z": "23b63e27.d6a402",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 240,
        "wires": []
    },
    {
        "id": "6130a7b1.8b1418",
        "type": "inject",
        "z": "23b63e27.d6a402",
        "name": "FUELTANK3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "query",
                "v": "SELECT * FROM FuelTangki3 WHERE time >= 1694880000000000000",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 400,
        "wires": [
            [
                "d566140b.8decd8"
            ]
        ]
    },
    {
        "id": "1cdd8951.f9e457",
        "type": "function",
        "z": "23b63e27.d6a402",
        "name": "",
        "func": "var d = msg.payload;\nvar len = d.length;\nvar data = [];\n\nfor (var i =0; i<len; i++) {\n    var date = new Date(d[i].time);\n    date.setHours(date.getHours() + 8);\n    var formattedDate = date.toISOString().split('T')[0];\n    var hours = date.getUTCHours().toString().padStart(2, '0');\n    var minutes = date.getUTCMinutes().toString().padStart(2, '0');\n    var seconds = date.getUTCSeconds().toString().padStart(2, '0');\n    var outputData = [formattedDate, hours + \":\" + minutes + \":\" + seconds, d[i].Value, d[i].deviceID];\n    data.push(outputData);\n}\n\nmsg.payload = data;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 400,
        "wires": [
            [
                "4c5ee10c.7dd23",
                "7683a64c.8b48d8"
            ]
        ]
    },
    {
        "id": "4c5ee10c.7dd23",
        "type": "debug",
        "z": "23b63e27.d6a402",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 360,
        "wires": []
    },
    {
        "id": "bb30dd04.1fdd8",
        "type": "inject",
        "z": "23b63e27.d6a402",
        "name": "FUELTANK4",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "query",
                "v": "SELECT * FROM FuelTangki4 WHERE time >= 1694880000000000000",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 520,
        "wires": [
            [
                "6b7c494e.332d98"
            ]
        ]
    },
    {
        "id": "c07b3a20.af1168",
        "type": "function",
        "z": "23b63e27.d6a402",
        "name": "",
        "func": "var d = msg.payload;\nvar len = d.length;\nvar data = [];\n\nfor (var i =0; i<len; i++) {\n    var date = new Date(d[i].time);\n    date.setHours(date.getHours() + 8);\n    var formattedDate = date.toISOString().split('T')[0];\n    var hours = date.getUTCHours().toString().padStart(2, '0');\n    var minutes = date.getUTCMinutes().toString().padStart(2, '0');\n    var seconds = date.getUTCSeconds().toString().padStart(2, '0');\n    var outputData = [formattedDate, hours + \":\" + minutes + \":\" + seconds, d[i].Value, d[i].deviceID];\n    data.push(outputData);\n}\n\nmsg.payload = data;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 520,
        "wires": [
            [
                "fa69e4a2.e31b08",
                "14bb965e.3df03a"
            ]
        ]
    },
    {
        "id": "fa69e4a2.e31b08",
        "type": "debug",
        "z": "23b63e27.d6a402",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 480,
        "wires": []
    },
    {
        "id": "d343aab6.6f7ac8",
        "type": "GSheet",
        "z": "23b63e27.d6a402",
        "creds": "8a40d157.02859",
        "method": "update",
        "action": "",
        "sheet": "1v7NBXsIYtenNsH2q1Alc94HhZYM3GcCwsKWFCJFdFyU",
        "cells": "TANK1!A2:D",
        "flatten": false,
        "name": "",
        "x": 890,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "b1e772b2.c19fe",
        "type": "GSheet",
        "z": "23b63e27.d6a402",
        "creds": "8a40d157.02859",
        "method": "update",
        "action": "",
        "sheet": "1v7NBXsIYtenNsH2q1Alc94HhZYM3GcCwsKWFCJFdFyU",
        "cells": "TANK2!A2:D",
        "flatten": false,
        "name": "",
        "x": 890,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "7683a64c.8b48d8",
        "type": "GSheet",
        "z": "23b63e27.d6a402",
        "creds": "8a40d157.02859",
        "method": "update",
        "action": "",
        "sheet": "1v7NBXsIYtenNsH2q1Alc94HhZYM3GcCwsKWFCJFdFyU",
        "cells": "TANK3!A2:D",
        "flatten": false,
        "name": "",
        "x": 890,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "14bb965e.3df03a",
        "type": "GSheet",
        "z": "23b63e27.d6a402",
        "creds": "8a40d157.02859",
        "method": "update",
        "action": "",
        "sheet": "1v7NBXsIYtenNsH2q1Alc94HhZYM3GcCwsKWFCJFdFyU",
        "cells": "TANK4!A2:D",
        "flatten": false,
        "name": "",
        "x": 890,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "998b4f80.416a7",
        "type": "influxdb in",
        "z": "23b63e27.d6a402",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 160,
        "wires": [
            [
                "a7165ce4.a421f"
            ]
        ]
    },
    {
        "id": "1d9f81d5.705c0e",
        "type": "influxdb in",
        "z": "23b63e27.d6a402",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 280,
        "wires": [
            [
                "e07f6e9d.a014d"
            ]
        ]
    },
    {
        "id": "d566140b.8decd8",
        "type": "influxdb in",
        "z": "23b63e27.d6a402",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 400,
        "wires": [
            [
                "1cdd8951.f9e457"
            ]
        ]
    },
    {
        "id": "6b7c494e.332d98",
        "type": "influxdb in",
        "z": "23b63e27.d6a402",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 520,
        "wires": [
            [
                "c07b3a20.af1168"
            ]
        ]
    },
    {
        "id": "0c52326bb9b77965",
        "type": "mqtt in",
        "z": "10fdb02cfaef00f1",
        "name": "",
        "topic": "gw78/data",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 140,
        "y": 100,
        "wires": [
            [
                "fa359d45c8f8f287",
                "d9e074e9fcffb99a"
            ]
        ]
    },
    {
        "id": "fa359d45c8f8f287",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "Verify Data",
        "func": "try{\n    var d = msg.payload.split(',');\n    if(d[0]!=\"7\"){\n        msg.payload = null;\n    }\n    if(d[0]==\"7\" && d[1]==\"8\"){\n        msg.payload = d;\n        msg.measurement = \"FlowmeterIN\";\n        return msg;\n    }\n}catch(x){\n    msg.payload =null;\n}\nmsg.payload = null;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 100,
        "wires": [
            [
                "6a8fd8015484fb33"
            ]
        ]
    },
    {
        "id": "6a8fd8015484fb33",
        "type": "switch",
        "z": "10fdb02cfaef00f1",
        "name": "FlowmeterIN",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 450,
        "y": 100,
        "wires": [
            [
                "2f5e0a759b004ede",
                "cdc4fb95cb42da47",
                "ef9655ad220bb067"
            ]
        ]
    },
    {
        "id": "2f5e0a759b004ede",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 610,
        "y": 100,
        "wires": []
    },
    {
        "id": "d9e074e9fcffb99a",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 270,
        "y": 140,
        "wires": []
    },
    {
        "id": "cdc4fb95cb42da47",
        "type": "trigger",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "70",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "d991bef9bc1c5371",
        "type": "link in",
        "z": "10fdb02cfaef00f1",
        "name": "link in 1",
        "links": [
            "ef9655ad220bb067"
        ],
        "x": 85,
        "y": 320,
        "wires": [
            [
                "05a27a100638dd7c"
            ]
        ]
    },
    {
        "id": "ef9655ad220bb067",
        "type": "link out",
        "z": "10fdb02cfaef00f1",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "d991bef9bc1c5371"
        ],
        "x": 575,
        "y": 60,
        "wires": []
    },
    {
        "id": "05a27a100638dd7c",
        "type": "switch",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "property": "payload[2]",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "10",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "11",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "12",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "13",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 190,
        "y": 320,
        "wires": [
            [
                "35340caeb441eb6d"
            ],
            [
                "57df5dd57416928e"
            ],
            [
                "19a31ac3c32502a1"
            ],
            [
                "66afe91f4d2b74d2"
            ]
        ]
    },
    {
        "id": "35340caeb441eb6d",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "FlowRate",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nif(split[3] == \"10\"){\n    split[3] = \"0\";\n}\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\": \"FlowRate\",\n    \"Value\":parseFloat(split[3])/10\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 260,
        "wires": [
            [
                "3043ab63dbe12662",
                "03db0c0d5b5a9c2e",
                "ab3fe4a35c62258a"
            ]
        ]
    },
    {
        "id": "57df5dd57416928e",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "Totalizer",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nif(split[3] == \"20\"){\n    split[3] = \"0\";\n}\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\": \"Totalizer\",\n    \"Value\":parseFloat(split[3])/10\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 300,
        "wires": [
            [
                "3043ab63dbe12662",
                "ab3fe4a35c62258a",
                "539541cb253d9d01"
            ]
        ]
    },
    {
        "id": "19a31ac3c32502a1",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "Density",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nif(split[3] == \"3000\"){\n    split[3] = \"0\";\n}\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\": \"Density\",\n    \"Value\":parseFloat(split[3])/1000\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 340,
        "wires": [
            [
                "3043ab63dbe12662",
                "ab3fe4a35c62258a",
                "6e8f2aeb9ddb2f09"
            ]
        ]
    },
    {
        "id": "66afe91f4d2b74d2",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "Temp",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nif(split[3] == \"40\"){\n    split[3] = \"0\";\n}\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\": \"Temp\",\n    \"Value\":parseFloat(split[3])/10\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 380,
        "wires": [
            [
                "3043ab63dbe12662",
                "ab3fe4a35c62258a",
                "4ed14b1afdd51d9a"
            ]
        ]
    },
    {
        "id": "3043ab63dbe12662",
        "type": "influxdb out",
        "z": "10fdb02cfaef00f1",
        "influxdb": "ac2f667d.928a08",
        "name": "FlowmeterIN",
        "measurement": "",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 570,
        "y": 320,
        "wires": []
    },
    {
        "id": "ab3fe4a35c62258a",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload.deviceID",
        "statusType": "msg",
        "x": 850,
        "y": 320,
        "wires": []
    },
    {
        "id": "9f5ced93314ac03a",
        "type": "http in",
        "z": "10fdb02cfaef00f1",
        "name": "",
        "url": "/RequestFlowmeterIN",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 460,
        "wires": [
            [
                "4a29e062adf19fb1"
            ]
        ]
    },
    {
        "id": "4a29e062adf19fb1",
        "type": "function",
        "z": "10fdb02cfaef00f1",
        "name": "function 3",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "03db0c0d5b5a9c2e",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 730,
        "y": 220,
        "wires": []
    },
    {
        "id": "de41df9f10293daa",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 730,
        "y": 280,
        "wires": []
    },
    {
        "id": "6e8f2aeb9ddb2f09",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 730,
        "y": 360,
        "wires": []
    },
    {
        "id": "4ed14b1afdd51d9a",
        "type": "debug",
        "z": "10fdb02cfaef00f1",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 730,
        "y": 420,
        "wires": []
    },
    {
        "id": "7e563434.6b19bc",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "name": "FS012",
        "info": "",
        "x": 770,
        "y": 4500,
        "wires": []
    },
    {
        "id": "693a20ef.9776e",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "name": "FS013",
        "info": "",
        "x": 770,
        "y": 4580,
        "wires": []
    },
    {
        "id": "920a83d.904de8",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "name": "FS019",
        "info": "",
        "x": 770,
        "y": 4660,
        "wires": []
    },
    {
        "id": "fbf3b537.d62818",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "name": "FS022",
        "info": "",
        "x": 770,
        "y": 4740,
        "wires": []
    },
    {
        "id": "ba2b1bb0.48df78",
        "type": "mqtt in",
        "z": "4e5c35f7.142ffc",
        "name": "Sta Fuel",
        "topic": "LR002/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 100,
        "y": 4400,
        "wires": [
            [
                "28064b92.e265a4"
            ]
        ]
    },
    {
        "id": "a5f8effc.e875c",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "name": "$",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "PASS",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 410,
        "y": 4400,
        "wires": [
            [
                "24c7ab52.42f6a4"
            ]
        ]
    },
    {
        "id": "28064b92.e265a4",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Verify Data",
        "func": "var data = String(msg.payload);\nvar tanda = \"$\"\nvar tandadata = data.substring(data.length-1,data.length);\nif(tandadata == tanda){\n    msg.payload = data;\n    msg.topic = \"PASS\";\n}else{\n    msg.payload = data;\n    msg.topic = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 4400,
        "wires": [
            [
                "a5f8effc.e875c",
                "57e7d955.211b78"
            ]
        ]
    },
    {
        "id": "57e7d955.211b78",
        "type": "debug",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 430,
        "y": 4440,
        "wires": []
    },
    {
        "id": "fb110db4.c85e8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki 1",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS012\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 4500,
        "wires": [
            [
                "c9d83d9b.f7721"
            ]
        ]
    },
    {
        "id": "3da39bdc.9f9ce4",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki 2",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS013\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 4580,
        "wires": [
            [
                "caabd0aa.33dcf"
            ]
        ]
    },
    {
        "id": "b7734001.7765",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki 3",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS019\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 4660,
        "wires": [
            [
                "773ca869.906d18"
            ]
        ]
    },
    {
        "id": "1bd15d22.e7b613",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki 4",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS022\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 4740,
        "wires": [
            [
                "5541d757.7dd9f8"
            ]
        ]
    },
    {
        "id": "c9d83d9b.f7721",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 4500,
        "wires": [
            [
                "f53cbef3.54dcb",
                "7be9d516.cd5c4c"
            ]
        ]
    },
    {
        "id": "caabd0aa.33dcf",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 4580,
        "wires": [
            [
                "7f95d688.c21118"
            ]
        ]
    },
    {
        "id": "773ca869.906d18",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 4660,
        "wires": [
            [
                "6fc43ade.5f1f04"
            ]
        ]
    },
    {
        "id": "5541d757.7dd9f8",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 360,
        "y": 4740,
        "wires": [
            [
                "49383c2f.802ae4"
            ]
        ]
    },
    {
        "id": "f53cbef3.54dcb",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 4500,
        "wires": [
            [
                "7f075c9a.3719e4",
                "1fabaa41.1c44d6",
                "716df159.ce33d"
            ]
        ]
    },
    {
        "id": "7f95d688.c21118",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 4580,
        "wires": [
            [
                "7adf3f20.6c86e",
                "9ef79445.b9c0d8",
                "2d66bf29.d4ffc"
            ]
        ]
    },
    {
        "id": "6fc43ade.5f1f04",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 4660,
        "wires": [
            [
                "bbd895b3.084a18",
                "755c1291.41ec7c",
                "d8f48851.b33f08"
            ]
        ]
    },
    {
        "id": "49383c2f.802ae4",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 4740,
        "wires": [
            [
                "b8d6baf3.ea0b28",
                "dcd64e6f.1ea49",
                "40917e4.32aba8"
            ]
        ]
    },
    {
        "id": "24c7ab52.42f6a4",
        "type": "link out",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "6b4d488f.b47a38",
            "cae810c3.96d93"
        ],
        "x": 495,
        "y": 4400,
        "wires": []
    },
    {
        "id": "6b4d488f.b47a38",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "24c7ab52.42f6a4",
            "5f9f15f4.9b1d9c"
        ],
        "x": 55,
        "y": 4620,
        "wires": [
            [
                "fb110db4.c85e8",
                "3da39bdc.9f9ce4",
                "b7734001.7765",
                "1bd15d22.e7b613"
            ]
        ]
    },
    {
        "id": "442e78bc.58b598",
        "type": "inject",
        "z": "4e5c35f7.142ffc",
        "name": "Update Dashboard",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 4900,
        "wires": [
            [
                "75cc489.0b912b8",
                "c45fb816.2693d8",
                "78f7ee16.1c701",
                "d73dead7.548748"
            ]
        ]
    },
    {
        "id": "75cc489.0b912b8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki1",
        "func": "msg.query = \"SELECT * FROM FuelTangki1 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 4840,
        "wires": [
            [
                "d8e64a64.e22e08"
            ]
        ]
    },
    {
        "id": "c45fb816.2693d8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki2",
        "func": "msg.query = \"SELECT * FROM FuelTangki2 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 4880,
        "wires": [
            [
                "bdd200ed.be4ea"
            ]
        ]
    },
    {
        "id": "78f7ee16.1c701",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki3",
        "func": "msg.query = \"SELECT * FROM FuelTangki3 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 4920,
        "wires": [
            [
                "9d4b1453.d4d828"
            ]
        ]
    },
    {
        "id": "d73dead7.548748",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Tangki4",
        "func": "msg.query = \"SELECT * FROM FuelTangki4 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 4960,
        "wires": [
            [
                "4d3c12db.fceffc"
            ]
        ]
    },
    {
        "id": "6297fd2f.5b9c14",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,10000)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 4840,
        "wires": [
            [
                "337c9af5.d82ab6"
            ]
        ]
    },
    {
        "id": "ef8d340b.b67188",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 4400,
        "wires": [
            []
        ]
    },
    {
        "id": "337c9af5.d82ab6",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4840,
        "wires": [
            []
        ]
    },
    {
        "id": "cdf3a85b.e2f2e8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4880,
        "wires": [
            []
        ]
    },
    {
        "id": "a4f21801.604108",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4920,
        "wires": [
            []
        ]
    },
    {
        "id": "dfd5807f.552aa",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4960,
        "wires": [
            []
        ]
    },
    {
        "id": "f3418b69.0c7fb8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,10000)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 4880,
        "wires": [
            [
                "cdf3a85b.e2f2e8"
            ]
        ]
    },
    {
        "id": "2d5b9fc3.e4667",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,10000)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 4920,
        "wires": [
            [
                "a4f21801.604108"
            ]
        ]
    },
    {
        "id": "9303629a.9f2f",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,10000)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 4960,
        "wires": [
            [
                "dfd5807f.552aa"
            ]
        ]
    },
    {
        "id": "1fabaa41.1c44d6",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,10000);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 4540,
        "wires": [
            [
                "a5b990bc.a5f1b"
            ]
        ]
    },
    {
        "id": "9ef79445.b9c0d8",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,10000);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 4620,
        "wires": [
            [
                "eeddab7e.323e88"
            ]
        ]
    },
    {
        "id": "755c1291.41ec7c",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,10000);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 4700,
        "wires": [
            [
                "3f6b0560.1f9d5a"
            ]
        ]
    },
    {
        "id": "dcd64e6f.1ea49",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,10000);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 4780,
        "wires": [
            [
                "b502ffe9.2c6dd"
            ]
        ]
    },
    {
        "id": "a5b990bc.a5f1b",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 4540,
        "wires": [
            []
        ]
    },
    {
        "id": "eeddab7e.323e88",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 4620,
        "wires": [
            []
        ]
    },
    {
        "id": "3f6b0560.1f9d5a",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 4700,
        "wires": [
            []
        ]
    },
    {
        "id": "b502ffe9.2c6dd",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 4780,
        "wires": [
            []
        ]
    },
    {
        "id": "74732644.e2c238",
        "type": "inject",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 620,
        "y": 4440,
        "wires": [
            [
                "6a4f87b7.450be8",
                "2d69ae9e.f100c2",
                "f411a5c2.7fc888",
                "d3933c16.03245"
            ]
        ]
    },
    {
        "id": "e3a39bf5.847088",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "cb31f00d.fe1df",
            "619286ff.34f008",
            "8b00c8f7.432d68"
        ],
        "x": 875,
        "y": 4840,
        "wires": [
            [
                "e8d14970.dda178"
            ]
        ]
    },
    {
        "id": "b57a0e2a.13877",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "cb31f00d.fe1df",
            "619286ff.34f008",
            "8b00c8f7.432d68"
        ],
        "x": 875,
        "y": 4560,
        "wires": [
            [
                "6a4f87b7.450be8"
            ]
        ]
    },
    {
        "id": "285883fa.6363fc",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "a42e8a40.090958",
            "30ad03c7.75e864",
            "74f5883c.28c238"
        ],
        "x": 875,
        "y": 4880,
        "wires": [
            [
                "c0122276.fa779"
            ]
        ]
    },
    {
        "id": "a1a56af4.bf8798",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "a42e8a40.090958",
            "30ad03c7.75e864",
            "74f5883c.28c238"
        ],
        "x": 875,
        "y": 4620,
        "wires": [
            [
                "2d69ae9e.f100c2"
            ]
        ]
    },
    {
        "id": "d1b0e98a.b7c5c8",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "bad91e0d.8b6f1",
            "4e1b95c9.12dee4",
            "c8f7886e.3c76f8"
        ],
        "x": 875,
        "y": 4920,
        "wires": [
            [
                "f100238f.e9e16"
            ]
        ]
    },
    {
        "id": "66f19641.cc41f8",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "2faec5bb.41c9ba",
            "da055aac.57358",
            "885f5a69.31a8b8"
        ],
        "x": 875,
        "y": 4960,
        "wires": [
            [
                "e240c9a8.4b93e8"
            ]
        ]
    },
    {
        "id": "b4cb5915.ada458",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "bad91e0d.8b6f1",
            "4e1b95c9.12dee4",
            "c8f7886e.3c76f8"
        ],
        "x": 875,
        "y": 4700,
        "wires": [
            [
                "f411a5c2.7fc888"
            ]
        ]
    },
    {
        "id": "848b7730.fe9bd8",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "links": [
            "2faec5bb.41c9ba",
            "da055aac.57358",
            "885f5a69.31a8b8"
        ],
        "x": 875,
        "y": 4780,
        "wires": [
            [
                "d3933c16.03245"
            ]
        ]
    },
    {
        "id": "dd53e3b81b80c257",
        "type": "mqtt in",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "topic": "TakeInflux",
        "qos": "2",
        "datatype": "auto",
        "broker": "1f3ec2e77df9e58f",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1560,
        "y": 400,
        "wires": [
            [
                "621c45b076eabe66"
            ]
        ]
    },
    {
        "id": "bc991080428961fb",
        "type": "mqtt out",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "topic": "TakeInfluxx",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "1f3ec2e77df9e58f",
        "x": 1880,
        "y": 400,
        "wires": []
    },
    {
        "id": "2d66bf29.d4ffc",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 4580,
        "wires": [
            []
        ]
    },
    {
        "id": "716df159.ce33d",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 4500,
        "wires": [
            []
        ]
    },
    {
        "id": "d8f48851.b33f08",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 4660,
        "wires": [
            []
        ]
    },
    {
        "id": "40917e4.32aba8",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 890,
        "y": 4740,
        "wires": [
            []
        ]
    },
    {
        "id": "7be9d516.cd5c4c",
        "type": "debug",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 4540,
        "wires": []
    },
    {
        "id": "ed6aa8e2.8dff48",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "g": "7fa162ca.0a827c",
        "name": "",
        "links": [
            "5ff93a6e.3724e4"
        ],
        "x": 145,
        "y": 60,
        "wires": [
            [
                "c8487fe.bdbb28"
            ]
        ]
    },
    {
        "id": "c8487fe.bdbb28",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "7fa162ca.0a827c",
        "name": " ",
        "func": "var d = msg.payload;\nvar json = {\n    \"ID\":d.split(\",\")[1],\n    \"val\":parseInt(d.split(\",\")[3])\n}\nif(d.split(\",\")[0]!=\"5\"){\n    msg.payload = null;\n    return msg;\n}\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 100,
        "wires": [
            [
                "8e41dedf.d0c08"
            ]
        ]
    },
    {
        "id": "8e41dedf.d0c08",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "g": "7fa162ca.0a827c",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 330,
        "y": 100,
        "wires": [
            [
                "5a6425b1.e8177c",
                "53a57b60.83f954"
            ]
        ]
    },
    {
        "id": "5a6425b1.e8177c",
        "type": "debug",
        "z": "4e5c35f7.142ffc",
        "g": "7fa162ca.0a827c",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 530,
        "y": 100,
        "wires": []
    },
    {
        "id": "5aca3b0.47301c4",
        "type": "link in",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "",
        "links": [
            "53a57b60.83f954"
        ],
        "x": 75,
        "y": 320,
        "wires": [
            [
                "68871f8e.9093",
                "3fae7bad.f411a4",
                "b8e73a82.327d08",
                "8f473dc4.b344f"
            ]
        ]
    },
    {
        "id": "8f473dc4.b344f",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Tangki 1",
        "func": "var d = (msg.payload);\nvar device = \"19\";\nif(String(d.ID) == String(device)){\n    msg.payload = d;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 200,
        "wires": [
            [
                "a86f5d58.a7201"
            ]
        ]
    },
    {
        "id": "a86f5d58.a7201",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 200,
        "wires": [
            [
                "8f788c2a.9d49"
            ]
        ]
    },
    {
        "id": "df0ac90d.65f138",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 280,
        "wires": [
            [
                "996a2e15.f745d"
            ]
        ]
    },
    {
        "id": "d071bb4e.57b778",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 360,
        "wires": [
            [
                "d9b315fc.865048"
            ]
        ]
    },
    {
        "id": "4a1f1a8b.7ebf64",
        "type": "switch",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 380,
        "y": 440,
        "wires": [
            [
                "7e500c7d.93df84"
            ]
        ]
    },
    {
        "id": "8f788c2a.9d49",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Insert",
        "func": "var d = (msg.payload);\nvar json = {\"deviceID\":\"FS0\"+String(d.ID),\"Value\":parseFloat(d.val)};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 200,
        "wires": [
            [
                "dd44fa75.d3c6b8",
                "6141cb7c.64fbd4",
                "510eb02d.0c413",
                "d415fd1a.ac51e"
            ]
        ]
    },
    {
        "id": "510eb02d.0c413",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 930,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "3204ec38.3cb7b4",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 930,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e5ea36dd.7b1938",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 930,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "cdd5b89f.e9ac68",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Status",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 930,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "b8e73a82.327d08",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Tangki 2",
        "func": "var d = (msg.payload);\nvar device = \"13\";\nif(String(d.ID) == String(device)){\n    msg.payload = d;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 280,
        "wires": [
            [
                "df0ac90d.65f138"
            ]
        ]
    },
    {
        "id": "3fae7bad.f411a4",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Tangki 3",
        "func": "var d = (msg.payload);\nvar device = \"12\";\nif(String(d.ID) == String(device)){\n    msg.payload = d;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 360,
        "wires": [
            [
                "d071bb4e.57b778"
            ]
        ]
    },
    {
        "id": "68871f8e.9093",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Tangki 4",
        "func": "var d = (msg.payload);\nvar device = \"22\";\nif(String(d.ID) == String(device)){\n    msg.payload = d;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 440,
        "wires": [
            [
                "4a1f1a8b.7ebf64"
            ]
        ]
    },
    {
        "id": "996a2e15.f745d",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Insert",
        "func": "var d = (msg.payload);\nvar json = {\"deviceID\":\"FS0\"+String(d.ID),\"Value\":parseFloat(d.val)};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 280,
        "wires": [
            [
                "dd44fa75.d3c6b8",
                "6141cb7c.64fbd4",
                "3204ec38.3cb7b4",
                "fd78667e.8983e8"
            ]
        ]
    },
    {
        "id": "d9b315fc.865048",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Insert",
        "func": "var d = (msg.payload);\nvar json = {\"deviceID\":\"FS0\"+String(d.ID),\"Value\":parseFloat(d.val)};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 360,
        "wires": [
            [
                "dd44fa75.d3c6b8",
                "e5ea36dd.7b1938",
                "2d9df797.77b278"
            ]
        ]
    },
    {
        "id": "7e500c7d.93df84",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "Insert",
        "func": "var d = (msg.payload);\nvar json = {\"deviceID\":\"FS0\"+String(d.ID),\"Value\":parseFloat(d.val)};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 440,
        "wires": [
            [
                "dd44fa75.d3c6b8",
                "6141cb7c.64fbd4",
                "cdd5b89f.e9ac68",
                "7fbd8479.a16f6c"
            ]
        ]
    },
    {
        "id": "53a57b60.83f954",
        "type": "link out",
        "z": "4e5c35f7.142ffc",
        "g": "7fa162ca.0a827c",
        "name": "",
        "links": [
            "5aca3b0.47301c4"
        ],
        "x": 455,
        "y": 60,
        "wires": []
    },
    {
        "id": "f233177d.641c68",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "FS012",
        "info": "",
        "x": 810,
        "y": 360,
        "wires": []
    },
    {
        "id": "af980754.516df8",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "FS013",
        "info": "",
        "x": 810,
        "y": 280,
        "wires": []
    },
    {
        "id": "c5c82f31.005b9",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "FS019",
        "info": "",
        "x": 810,
        "y": 200,
        "wires": []
    },
    {
        "id": "e2b8d511.eed7f8",
        "type": "comment",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "FS022",
        "info": "",
        "x": 810,
        "y": 440,
        "wires": []
    },
    {
        "id": "dd44fa75.d3c6b8",
        "type": "debug",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 320,
        "wires": []
    },
    {
        "id": "6141cb7c.64fbd4",
        "type": "trigger",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "pay",
        "op2type": "str",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "hr",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 690,
        "y": 320,
        "wires": [
            [
                "4513899e.69b018"
            ]
        ]
    },
    {
        "id": "4513899e.69b018",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "name": " ",
        "func": "flow.set(\"IncomingNewSensor\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "8be10c84.71708",
        "type": "inject",
        "z": "4e5c35f7.142ffc",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 520,
        "wires": [
            [
                "5f629b27.9e58e4"
            ]
        ]
    },
    {
        "id": "5f629b27.9e58e4",
        "type": "function",
        "z": "4e5c35f7.142ffc",
        "name": " ",
        "func": "msg.payload = flow.get(\"IncomingNewSensor\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 520,
        "wires": [
            [
                "6d7921db.29464"
            ]
        ]
    },
    {
        "id": "6d7921db.29464",
        "type": "debug",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 410,
        "y": 520,
        "wires": []
    },
    {
        "id": "7f075c9a.3719e4",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki1",
        "measurement": "FuelTangki1",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 640,
        "y": 4500,
        "wires": []
    },
    {
        "id": "7adf3f20.6c86e",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki2",
        "measurement": "FuelTangki2",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 640,
        "y": 4580,
        "wires": []
    },
    {
        "id": "bbd895b3.084a18",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki3",
        "measurement": "FuelTangki3",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 640,
        "y": 4660,
        "wires": []
    },
    {
        "id": "b8d6baf3.ea0b28",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki4",
        "measurement": "FuelTangki4",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 640,
        "y": 4740,
        "wires": []
    },
    {
        "id": "d415fd1a.ac51e",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki1",
        "measurement": "FuelTangki1",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 680,
        "y": 180,
        "wires": []
    },
    {
        "id": "fd78667e.8983e8",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki2",
        "measurement": "FuelTangki2",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 680,
        "y": 260,
        "wires": []
    },
    {
        "id": "2d9df797.77b278",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki3",
        "measurement": "FuelTangki3",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 680,
        "y": 380,
        "wires": []
    },
    {
        "id": "7fbd8479.a16f6c",
        "type": "influxdb out",
        "z": "4e5c35f7.142ffc",
        "g": "d599c6e4.b56408",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki4",
        "measurement": "FuelTangki4",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 680,
        "y": 460,
        "wires": []
    },
    {
        "id": "d8e64a64.e22e08",
        "type": "influxdb in",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 530,
        "y": 4840,
        "wires": [
            [
                "6297fd2f.5b9c14"
            ]
        ]
    },
    {
        "id": "bdd200ed.be4ea",
        "type": "influxdb in",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 530,
        "y": 4880,
        "wires": [
            [
                "f3418b69.0c7fb8"
            ]
        ]
    },
    {
        "id": "9d4b1453.d4d828",
        "type": "influxdb in",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 530,
        "y": 4920,
        "wires": [
            [
                "2d5b9fc3.e4667"
            ]
        ]
    },
    {
        "id": "4d3c12db.fceffc",
        "type": "influxdb in",
        "z": "4e5c35f7.142ffc",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 530,
        "y": 4960,
        "wires": [
            [
                "9303629a.9f2f"
            ]
        ]
    },
    {
        "id": "621c45b076eabe66",
        "type": "influxdb in",
        "z": "4e5c35f7.142ffc",
        "influxdb": "a7bada98.f31eb8",
        "name": "",
        "query": "",
        "rawOutput": true,
        "precision": "ms",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1730,
        "y": 460,
        "wires": [
            [
                "bc991080428961fb"
            ]
        ]
    },
    {
        "id": "e8d14970.dda178",
        "type": "ui_gauge",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "ae653e8c.44548",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "wave",
        "title": "Fuel",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "1500000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 990,
        "y": 4840,
        "wires": []
    },
    {
        "id": "c0122276.fa779",
        "type": "ui_gauge",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "673e15ed.5b759c",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "wave",
        "title": "Fuel",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "1500000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 990,
        "y": 4880,
        "wires": []
    },
    {
        "id": "f100238f.e9e16",
        "type": "ui_gauge",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "5602deb8.92607",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "wave",
        "title": "Fuel",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "700000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 990,
        "y": 4920,
        "wires": []
    },
    {
        "id": "e240c9a8.4b93e8",
        "type": "ui_gauge",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "wave",
        "title": "Fuel",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "700000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 990,
        "y": 4960,
        "wires": []
    },
    {
        "id": "6a4f87b7.450be8",
        "type": "ui_chart",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "ae653e8c.44548",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Fuel 1",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1500000",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 990,
        "y": 4540,
        "wires": [
            []
        ]
    },
    {
        "id": "2d69ae9e.f100c2",
        "type": "ui_chart",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "673e15ed.5b759c",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Fuel 2",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1500000",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 990,
        "y": 4620,
        "wires": [
            []
        ]
    },
    {
        "id": "f411a5c2.7fc888",
        "type": "ui_chart",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "5602deb8.92607",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Fuel 3",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "700000",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 990,
        "y": 4700,
        "wires": [
            []
        ]
    },
    {
        "id": "d3933c16.03245",
        "type": "ui_chart",
        "z": "4e5c35f7.142ffc",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Fuel 4",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "700000",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 990,
        "y": 4780,
        "wires": [
            []
        ]
    },
    {
        "id": "ec5df41d.82d348",
        "type": "mqtt in",
        "z": "a7d5d401.6ec5c8",
        "name": "Sta Fuel",
        "topic": "LR002/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 80,
        "y": 40,
        "wires": [
            [
                "12d0b3ad.d038fc"
            ]
        ]
    },
    {
        "id": "28fca135.c5ac7e",
        "type": "switch",
        "z": "a7d5d401.6ec5c8",
        "name": "$",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "PASS",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 40,
        "wires": [
            [
                "a4ee111c.0d59b"
            ]
        ]
    },
    {
        "id": "12d0b3ad.d038fc",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Verify Data",
        "func": "var data = String(msg.payload);\nvar tanda = \"$\"\nvar tandadata = data.substring(data.length-1,data.length);\nif(tandadata == tanda){\n    msg.topic = \"PASS\";\n}else{\n    msg.payload = data;\n    msg.topic = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 40,
        "wires": [
            [
                "28fca135.c5ac7e",
                "b4b2ab1d.889678"
            ]
        ]
    },
    {
        "id": "b4b2ab1d.889678",
        "type": "debug",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 410,
        "y": 80,
        "wires": []
    },
    {
        "id": "f6f460c3.6d4ec",
        "type": "comment",
        "z": "a7d5d401.6ec5c8",
        "name": "FS011",
        "info": "",
        "x": 750,
        "y": 140,
        "wires": []
    },
    {
        "id": "5174b933.128948",
        "type": "comment",
        "z": "a7d5d401.6ec5c8",
        "name": "FS016",
        "info": "",
        "x": 750,
        "y": 220,
        "wires": []
    },
    {
        "id": "ce708ad4.119158",
        "type": "comment",
        "z": "a7d5d401.6ec5c8",
        "name": "FS021",
        "info": "",
        "x": 750,
        "y": 300,
        "wires": []
    },
    {
        "id": "e485c6f7.1eef78",
        "type": "comment",
        "z": "a7d5d401.6ec5c8",
        "name": "FS014",
        "info": "",
        "x": 750,
        "y": 380,
        "wires": []
    },
    {
        "id": "330a4234.cb2c5e",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki 1",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS011\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 140,
        "wires": [
            [
                "315f0dc0.6b6322"
            ]
        ]
    },
    {
        "id": "73878548.9d4cfc",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki 2",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS016\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 220,
        "wires": [
            [
                "361173b7.01e9fc"
            ]
        ]
    },
    {
        "id": "32c4eee5.5f4e92",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki 3",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS021\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 300,
        "wires": [
            [
                "dd9867b5.ce9bb8"
            ]
        ]
    },
    {
        "id": "dc55f53a.512678",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki 4",
        "func": "var payload = String(msg.payload);\nvar data = payload.substring(0,payload.length-1);\nvar split = data.split(',');\nvar device = \"FS014\";\nif(String(split[0]) == String(device)){\n    msg.payload = data;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 380,
        "wires": [
            [
                "b74576b9.e0e918"
            ]
        ]
    },
    {
        "id": "315f0dc0.6b6322",
        "type": "switch",
        "z": "a7d5d401.6ec5c8",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 140,
        "wires": [
            [
                "57fb6055.ba96f",
                "91546cd6.be5dc"
            ]
        ]
    },
    {
        "id": "361173b7.01e9fc",
        "type": "switch",
        "z": "a7d5d401.6ec5c8",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 220,
        "wires": [
            [
                "82f0bc8b.03d2d"
            ]
        ]
    },
    {
        "id": "dd9867b5.ce9bb8",
        "type": "switch",
        "z": "a7d5d401.6ec5c8",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 300,
        "wires": [
            [
                "ce097b4.c962f88"
            ]
        ]
    },
    {
        "id": "b74576b9.e0e918",
        "type": "switch",
        "z": "a7d5d401.6ec5c8",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 340,
        "y": 380,
        "wires": [
            [
                "a7b83253.a9049"
            ]
        ]
    },
    {
        "id": "57fb6055.ba96f",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 140,
        "wires": [
            [
                "67a7541b.8d394c",
                "a50f5387.7db8d",
                "96a6cb01.6e3b08",
                "126bf05a.77a09"
            ]
        ]
    },
    {
        "id": "82f0bc8b.03d2d",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 220,
        "wires": [
            [
                "eb9b5bd.a9452a8",
                "b17d3862.a05ff8",
                "fbb2efd8.95add",
                "182caf65.0c94b1"
            ]
        ]
    },
    {
        "id": "ce097b4.c962f88",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 300,
        "wires": [
            [
                "6620a61f.16c5b8",
                "d7e33c95.a3adf",
                "fa6c0b66.097bc8",
                "d5bca4c8.ed9478"
            ]
        ]
    },
    {
        "id": "a7b83253.a9049",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\"deviceID\":String(split[0]),\"Value\":parseFloat(split[1])};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 380,
        "wires": [
            [
                "29798284.97d15e",
                "57b6aa76.75c644",
                "402d1f87.2d11e",
                "b3d71ee8.4c7c2"
            ]
        ]
    },
    {
        "id": "57b6aa76.75c644",
        "type": "trigger",
        "z": "a7d5d401.6ec5c8",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "d7e33c95.a3adf",
        "type": "trigger",
        "z": "a7d5d401.6ec5c8",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "b17d3862.a05ff8",
        "type": "trigger",
        "z": "a7d5d401.6ec5c8",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "a50f5387.7db8d",
        "type": "trigger",
        "z": "a7d5d401.6ec5c8",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 870,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b1c8a136.c09f8",
        "type": "link in",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "links": [
            "a4ee111c.0d59b"
        ],
        "x": 35,
        "y": 260,
        "wires": [
            [
                "330a4234.cb2c5e",
                "73878548.9d4cfc",
                "32c4eee5.5f4e92",
                "dc55f53a.512678"
            ]
        ]
    },
    {
        "id": "a4ee111c.0d59b",
        "type": "link out",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "links": [
            "b1c8a136.c09f8"
        ],
        "x": 475,
        "y": 40,
        "wires": []
    },
    {
        "id": "402d1f87.2d11e",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,100);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 420,
        "wires": [
            [
                "f63a71ad.91cef"
            ]
        ]
    },
    {
        "id": "4bffe84.8768a18",
        "type": "inject",
        "z": "a7d5d401.6ec5c8",
        "name": "Update Dashboard",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 580,
        "wires": [
            [
                "6b51c456.8621fc",
                "63180025.9c3c5",
                "b35b0b95.376898",
                "e43de669.18cdb8"
            ]
        ]
    },
    {
        "id": "6b51c456.8621fc",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki1",
        "func": "msg.query = \"SELECT * FROM TempTangki1 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 520,
        "wires": [
            [
                "1a3656ec.968149"
            ]
        ]
    },
    {
        "id": "63180025.9c3c5",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki2",
        "func": "msg.query = \"SELECT * FROM TempTangki2 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 560,
        "wires": [
            [
                "c5494324.99c16"
            ]
        ]
    },
    {
        "id": "b35b0b95.376898",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki3",
        "func": "msg.query = \"SELECT * FROM TempTangki3 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 600,
        "wires": [
            [
                "4667ecce.e04a24"
            ]
        ]
    },
    {
        "id": "e43de669.18cdb8",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Tangki4",
        "func": "msg.query = \"SELECT * FROM TempTangki4 ORDER BY time DESC limit 1\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 640,
        "wires": [
            [
                "c6bdd48b.5fb7e8"
            ]
        ]
    },
    {
        "id": "9fb20a6.f3068f8",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,100)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 520,
        "wires": [
            [
                "d10774e5.d2ab38"
            ]
        ]
    },
    {
        "id": "39d52338.0b61bc",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,100)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 560,
        "wires": [
            [
                "ce8bfeed.90f13"
            ]
        ]
    },
    {
        "id": "a96f9e05.f4945",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,100)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 600,
        "wires": [
            [
                "4fe662a1.85e84c"
            ]
        ]
    },
    {
        "id": "2866cd72.900992",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Value",
        "func": "var data = msg.payload;\ndata[0].Value = map_range(data[0].Value,400,2000,0,100)\nmsg.payload = parseInt(String(data[0].Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 640,
        "wires": [
            [
                "2f05f35d.a1596c"
            ]
        ]
    },
    {
        "id": "d10774e5.d2ab38",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<400",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 520,
        "wires": [
            [
                "78c3aa33.b92414"
            ]
        ]
    },
    {
        "id": "ce8bfeed.90f13",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<400",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 560,
        "wires": [
            [
                "b6e2ad16.e7f52"
            ]
        ]
    },
    {
        "id": "4fe662a1.85e84c",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<400",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 600,
        "wires": [
            [
                "6f6b9d.9ba79464"
            ]
        ]
    },
    {
        "id": "2f05f35d.a1596c",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<400",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 640,
        "wires": [
            [
                "4516a3e7.f165ac"
            ]
        ]
    },
    {
        "id": "fa6c0b66.097bc8",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,100);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 340,
        "wires": [
            [
                "6b5dde05.e0538"
            ]
        ]
    },
    {
        "id": "fbb2efd8.95add",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,100);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 260,
        "wires": [
            [
                "7ef227f6.647f38"
            ]
        ]
    },
    {
        "id": "96a6cb01.6e3b08",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,400,2000,0,100);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 180,
        "wires": [
            [
                "1708df9b.3b87"
            ]
        ]
    },
    {
        "id": "1708df9b.3b87",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 180,
        "wires": [
            [
                "c466881a.034848"
            ]
        ]
    },
    {
        "id": "7ef227f6.647f38",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 260,
        "wires": [
            [
                "8fc8c980.3fe368"
            ]
        ]
    },
    {
        "id": "6b5dde05.e0538",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 340,
        "wires": [
            [
                "748ad87e.d4eef8"
            ]
        ]
    },
    {
        "id": "f63a71ad.91cef",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 420,
        "wires": [
            [
                "e8bbb228.0b018"
            ]
        ]
    },
    {
        "id": "34c1e4ed.51d60c",
        "type": "inject",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 710,
        "y": 80,
        "wires": [
            [
                "c466881a.034848",
                "8fc8c980.3fe368",
                "748ad87e.d4eef8",
                "e8bbb228.0b018"
            ]
        ]
    },
    {
        "id": "91546cd6.be5dc",
        "type": "debug",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 100,
        "wires": []
    },
    {
        "id": "9772e9df.605318",
        "type": "debug",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 40,
        "wires": []
    },
    {
        "id": "182caf65.0c94b1",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,100);\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 220,
        "wires": [
            [
                "d84aa416.a672b8"
            ]
        ]
    },
    {
        "id": "126bf05a.77a09",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,100);\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 140,
        "wires": [
            [
                "6951bc80.8593e4"
            ]
        ]
    },
    {
        "id": "d5bca4c8.ed9478",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,100);\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 300,
        "wires": [
            [
                "c3fbf42d.e2b278"
            ]
        ]
    },
    {
        "id": "b3d71ee8.4c7c2",
        "type": "function",
        "z": "a7d5d401.6ec5c8",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,100);\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 380,
        "wires": [
            [
                "c708cbf2.ef8318"
            ]
        ]
    },
    {
        "id": "32df2043.c916",
        "type": "trigger",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "overrideDelay": true,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 640,
        "y": 780,
        "wires": [
            [
                "1e733af.2a400c5"
            ]
        ]
    },
    {
        "id": "94ba82a3.934a",
        "type": "inject",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 410,
        "y": 760,
        "wires": [
            [
                "32df2043.c916"
            ]
        ]
    },
    {
        "id": "1e733af.2a400c5",
        "type": "debug",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 880,
        "y": 740,
        "wires": []
    },
    {
        "id": "67a7541b.8d394c",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki1",
        "measurement": "TempTangki1",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 620,
        "y": 140,
        "wires": []
    },
    {
        "id": "eb9b5bd.a9452a8",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki2",
        "measurement": "TempTangki2",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 620,
        "y": 220,
        "wires": []
    },
    {
        "id": "6620a61f.16c5b8",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki3",
        "measurement": "TempTangki3",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 620,
        "y": 300,
        "wires": []
    },
    {
        "id": "29798284.97d15e",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki4",
        "measurement": "TempTangki4",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 620,
        "y": 380,
        "wires": []
    },
    {
        "id": "d84aa416.a672b8",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki2",
        "measurement": "TempTangki2Cal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 220,
        "wires": []
    },
    {
        "id": "6951bc80.8593e4",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki1",
        "measurement": "TempTangki1Cal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 140,
        "wires": []
    },
    {
        "id": "c3fbf42d.e2b278",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki3",
        "measurement": "TempTangki3Cal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 300,
        "wires": []
    },
    {
        "id": "c708cbf2.ef8318",
        "type": "influxdb out",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "Tangki4",
        "measurement": "TempTangki4Cal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 380,
        "wires": []
    },
    {
        "id": "1a3656ec.968149",
        "type": "influxdb in",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 520,
        "wires": [
            [
                "9fb20a6.f3068f8"
            ]
        ]
    },
    {
        "id": "c5494324.99c16",
        "type": "influxdb in",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 560,
        "wires": [
            [
                "39d52338.0b61bc"
            ]
        ]
    },
    {
        "id": "4667ecce.e04a24",
        "type": "influxdb in",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 600,
        "wires": [
            [
                "a96f9e05.f4945"
            ]
        ]
    },
    {
        "id": "c6bdd48b.5fb7e8",
        "type": "influxdb in",
        "z": "a7d5d401.6ec5c8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 640,
        "wires": [
            [
                "2866cd72.900992"
            ]
        ]
    },
    {
        "id": "78c3aa33.b92414",
        "type": "ui_gauge",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "ae653e8c.44548",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Temp ",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "<style =\"float=left\">",
        "x": 910,
        "y": 520,
        "wires": []
    },
    {
        "id": "b6e2ad16.e7f52",
        "type": "ui_gauge",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "673e15ed.5b759c",
        "order": 2,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Temp",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 910,
        "y": 560,
        "wires": []
    },
    {
        "id": "6f6b9d.9ba79464",
        "type": "ui_gauge",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "5602deb8.92607",
        "order": 2,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Temp",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 910,
        "y": 600,
        "wires": []
    },
    {
        "id": "4516a3e7.f165ac",
        "type": "ui_gauge",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Temp",
        "label": "",
        "format": "{{value}}",
        "min": "0",
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "className": "",
        "x": 910,
        "y": 640,
        "wires": []
    },
    {
        "id": "c466881a.034848",
        "type": "ui_chart",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "ae653e8c.44548",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temp 1 ",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8fc8c980.3fe368",
        "type": "ui_chart",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "673e15ed.5b759c",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temp 2 ",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "748ad87e.d4eef8",
        "type": "ui_chart",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "5602deb8.92607",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temp 3 ",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "e8bbb228.0b018",
        "type": "ui_chart",
        "z": "a7d5d401.6ec5c8",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temp 4 ",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "5eb7eb77.079524",
        "type": "mqtt in",
        "z": "7d3e1120.3056a",
        "d": true,
        "name": "Sta Fuel",
        "topic": "LR002/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 80,
        "y": 40,
        "wires": [
            [
                "b8d42565.198068"
            ]
        ]
    },
    {
        "id": "b8d42565.198068",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Verify Data",
        "func": "try{\n    var d = msg.payload.split(',');\n}catch(x){\n    msg.payload =null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 40,
        "wires": [
            [
                "ffaf3633.996738"
            ]
        ]
    },
    {
        "id": "ffaf3633.996738",
        "type": "switch",
        "z": "7d3e1120.3056a",
        "name": "DST",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 390,
        "y": 40,
        "wires": [
            [
                "7a3d158.c9c31ec",
                "1ea43cea.190293",
                "b3f165c7.88d998",
                "5ff93a6e.3724e4",
                "f3f5ddeacf65dd15"
            ]
        ]
    },
    {
        "id": "7a3d158.c9c31ec",
        "type": "link out",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "5cefa2dd.bc1fbc",
            "a66e798a3f35c7c2",
            "783c5271f1cdb7fc",
            "c54ad5f6b3f9af6a",
            "8e5916e23e71d618"
        ],
        "x": 475,
        "y": 40,
        "wires": []
    },
    {
        "id": "1ea43cea.190293",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 100,
        "wires": []
    },
    {
        "id": "5cefa2dd.bc1fbc",
        "type": "link in",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "7a3d158.c9c31ec"
        ],
        "x": 55,
        "y": 240,
        "wires": [
            [
                "9432a02b.9be5d"
            ]
        ]
    },
    {
        "id": "9432a02b.9be5d",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Gantry3",
        "func": "var split = msg.payload.split(',');\nvar device = \"6\";\nif(String(split[1]) == String(device)){\n    return msg;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 240,
        "wires": [
            [
                "6ce6642b.aea96c"
            ]
        ]
    },
    {
        "id": "6ce6642b.aea96c",
        "type": "switch",
        "z": "7d3e1120.3056a",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 240,
        "wires": [
            [
                "dd7010e9.69cb5"
            ]
        ]
    },
    {
        "id": "dd7010e9.69cb5",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\":String(split[1]),\n    \"Value\":parseFloat(split[3])\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 240,
        "wires": [
            [
                "33716426.0d0f2c",
                "7cfcf030.5017",
                "d7c32e8e.5507b",
                "146db94b.c75ca7",
                "8c74ff93.e13fb"
            ]
        ]
    },
    {
        "id": "c360efb3.ef696",
        "type": "comment",
        "z": "7d3e1120.3056a",
        "name": "6",
        "info": "",
        "x": 690,
        "y": 240,
        "wires": []
    },
    {
        "id": "7cfcf030.5017",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "d7c32e8e.5507b",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,800,4096,0,2);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 280,
        "wires": [
            [
                "f8e600a7.ba315"
            ]
        ]
    },
    {
        "id": "f8e600a7.ba315",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 280,
        "wires": [
            [
                "e06e0cb0.ac256"
            ]
        ]
    },
    {
        "id": "93fc2066.70f03",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 770,
        "y": 160,
        "wires": [
            [
                "e06e0cb0.ac256"
            ]
        ]
    },
    {
        "id": "f9d4d084.9e278",
        "type": "mqtt in",
        "z": "7d3e1120.3056a",
        "name": "",
        "topic": "gw78/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 70,
        "y": 80,
        "wires": [
            [
                "1c801986.1bfb76"
            ]
        ]
    },
    {
        "id": "439e43b7.381a5c",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 250,
        "y": 180,
        "wires": []
    },
    {
        "id": "2bf86df0.4eee02",
        "type": "mqtt in",
        "z": "7d3e1120.3056a",
        "name": "",
        "topic": "gw78/data",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 80,
        "y": 120,
        "wires": [
            [
                "b8d42565.198068",
                "2c5fea24.9302f6"
            ]
        ]
    },
    {
        "id": "904d6d2e.678d9",
        "type": "mqtt in",
        "z": "7d3e1120.3056a",
        "name": "",
        "topic": "gw78/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 80,
        "y": 180,
        "wires": [
            [
                "439e43b7.381a5c",
                "4cf6050c.320e1c"
            ]
        ]
    },
    {
        "id": "1c801986.1bfb76",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 290,
        "y": 80,
        "wires": []
    },
    {
        "id": "8c74ff93.e13fb",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,2);\ndelete msg.payload['time'];\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 240,
        "wires": [
            [
                "ca9fd772.5cacc8",
                "9f36685c.cc13d8",
                "0625ba298af64053"
            ]
        ]
    },
    {
        "id": "146db94b.c75ca7",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 320,
        "wires": []
    },
    {
        "id": "9f36685c.cc13d8",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "Density Tangki3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload.Value",
        "statusType": "auto",
        "x": 1140,
        "y": 180,
        "wires": []
    },
    {
        "id": "d7efcb43.6f1368",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 730,
        "y": 40,
        "wires": []
    },
    {
        "id": "4cf6050c.320e1c",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": " ",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "1",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 420,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "2c5fea24.9302f6",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 370,
        "y": 120,
        "wires": []
    },
    {
        "id": "b3f165c7.88d998",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Time",
        "func": "msg.payload= String(new Date(Date.now()+(3600*7*1000)));\nflow.set(\"LastOnline\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 40,
        "wires": [
            [
                "d7efcb43.6f1368"
            ]
        ]
    },
    {
        "id": "5ff93a6e.3724e4",
        "type": "link out",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "6fd0835f.7145bc",
            "66ccccbb.b37ae4",
            "7b5a6fc.f64c49",
            "ed6aa8e2.8dff48"
        ],
        "x": 525,
        "y": 160,
        "wires": []
    },
    {
        "id": "9f9d5d46.9cc46",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "20",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "f9095625.39ce08",
        "type": "subflow:e9b71a55.b25c68",
        "z": "7d3e1120.3056a",
        "name": "",
        "env": [],
        "x": 430,
        "y": 860,
        "wires": [
            [
                "3ec2a882.079e28"
            ],
            []
        ]
    },
    {
        "id": "2b7a1c9f.eeffb4",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": " ",
        "func": "var list = [];\nlist.push(\"12,1,0,1#\");\nlist.push(\"12,2,0,1#\");\nlist.push(\"12,3,0,1#\");\nlist.push(\"12,4,0,1#\");\nmsg.payload = list;\nmsg.delay = 4000;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 860,
        "wires": [
            [
                "f9095625.39ce08"
            ]
        ]
    },
    {
        "id": "3ec2a882.079e28",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 600,
        "y": 860,
        "wires": []
    },
    {
        "id": "33716426.0d0f2c",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry3",
        "measurement": "DensityGantry3New",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "ca9fd772.5cacc8",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry3",
        "measurement": "DensityGantry3NewCal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 240,
        "wires": []
    },
    {
        "id": "e06e0cb0.ac256",
        "type": "ui_chart",
        "z": "7d3e1120.3056a",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "DensityGantry3",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 860,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "f3f5ddeacf65dd15",
        "type": "mqtt out",
        "z": "7d3e1120.3056a",
        "name": "",
        "topic": "KELANIS",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "1a2efe13d5aa88de",
        "x": 620,
        "y": 160,
        "wires": []
    },
    {
        "id": "a66e798a3f35c7c2",
        "type": "link in",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "7a3d158.c9c31ec"
        ],
        "x": 55,
        "y": 380,
        "wires": [
            [
                "2ccba0a8e3f2f310"
            ]
        ]
    },
    {
        "id": "2ccba0a8e3f2f310",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Gantry1",
        "func": "var split = msg.payload.split(',');\nvar device = \"7\";\nif(String(split[1]) == String(device)&&String(split[0]!=\"7\")){\n    return msg;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 380,
        "wires": [
            [
                "949009633eac362a"
            ]
        ]
    },
    {
        "id": "949009633eac362a",
        "type": "switch",
        "z": "7d3e1120.3056a",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 380,
        "wires": [
            [
                "a4b9564d39f014b0"
            ]
        ]
    },
    {
        "id": "a4b9564d39f014b0",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\":String(split[1]),\n    \"Value\":parseFloat(split[3])\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 380,
        "wires": [
            [
                "ae56b97e3bc47126",
                "85d1e1dc44167986",
                "8f567d21e4e86968",
                "8b032d5533dc1bec",
                "e091039f5a3cba3e"
            ]
        ]
    },
    {
        "id": "ae56b97e3bc47126",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry1",
        "measurement": "DensityGantry1New",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 560,
        "y": 380,
        "wires": []
    },
    {
        "id": "8b032d5533dc1bec",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "85d1e1dc44167986",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,800,4096,0,2);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 420,
        "wires": [
            [
                "abc67304b3ac51ad"
            ]
        ]
    },
    {
        "id": "8f567d21e4e86968",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 460,
        "wires": []
    },
    {
        "id": "e091039f5a3cba3e",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,2);\ndelete msg.payload['time'];\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 380,
        "wires": [
            [
                "11293fc5b773f403",
                "9934cfc477528cc5",
                "b2f095c16bda698e"
            ]
        ]
    },
    {
        "id": "abc67304b3ac51ad",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 420,
        "wires": [
            [
                "368aaee3b2c6dd95"
            ]
        ]
    },
    {
        "id": "11293fc5b773f403",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry1",
        "measurement": "DensityGantry1NewCal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 380,
        "wires": []
    },
    {
        "id": "9934cfc477528cc5",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "Density Tangki1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload.Value",
        "statusType": "auto",
        "x": 1140,
        "y": 320,
        "wires": []
    },
    {
        "id": "368aaee3b2c6dd95",
        "type": "ui_chart",
        "z": "7d3e1120.3056a",
        "name": "",
        "group": "ae653e8c.44548",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "DensityGantry1",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 860,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "ecfa422be91ebfef",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 710,
        "y": 460,
        "wires": [
            [
                "368aaee3b2c6dd95"
            ]
        ]
    },
    {
        "id": "c54ad5f6b3f9af6a",
        "type": "link in",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "7a3d158.c9c31ec"
        ],
        "x": 55,
        "y": 520,
        "wires": [
            [
                "d1928f5727f92835"
            ]
        ]
    },
    {
        "id": "d1928f5727f92835",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Gantry4",
        "func": "var split = msg.payload.split(',');\nvar device = \"4\";\nif(String(split[1]) == String(device)){\n    return msg;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 520,
        "wires": [
            [
                "6a70b68aa6b45bda"
            ]
        ]
    },
    {
        "id": "6a70b68aa6b45bda",
        "type": "switch",
        "z": "7d3e1120.3056a",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 520,
        "wires": [
            [
                "50a601c409642cc0"
            ]
        ]
    },
    {
        "id": "50a601c409642cc0",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\":String(split[1]),\n    \"Value\":parseFloat(split[3])\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 520,
        "wires": [
            [
                "41dc6bf67db9c5e6",
                "3b331d87693cc4e2",
                "06466d1a03b338c0",
                "a187f25506ecb1f8",
                "5f9736565e91ac8c"
            ]
        ]
    },
    {
        "id": "41dc6bf67db9c5e6",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry4",
        "measurement": "DensityGantry4New",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 560,
        "y": 520,
        "wires": []
    },
    {
        "id": "3b331d87693cc4e2",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,800,4096,0,2);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 560,
        "wires": [
            [
                "871d0af2ed5a5b96"
            ]
        ]
    },
    {
        "id": "06466d1a03b338c0",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 600,
        "wires": []
    },
    {
        "id": "a187f25506ecb1f8",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "5f9736565e91ac8c",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,2);\ndelete msg.payload['time'];\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 520,
        "wires": [
            [
                "419e84c79213e71c",
                "537d9551c0c69d3e",
                "b59b4156469d4684"
            ]
        ]
    },
    {
        "id": "871d0af2ed5a5b96",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 560,
        "wires": [
            [
                "3171506bd6d6c12c"
            ]
        ]
    },
    {
        "id": "419e84c79213e71c",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry4",
        "measurement": "DensityGantry4NewCal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 520,
        "wires": []
    },
    {
        "id": "537d9551c0c69d3e",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "Density Tangki4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload.Value",
        "statusType": "auto",
        "x": 1140,
        "y": 460,
        "wires": []
    },
    {
        "id": "3171506bd6d6c12c",
        "type": "ui_chart",
        "z": "7d3e1120.3056a",
        "name": "",
        "group": "b53b736c.38bb6",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "DensityGantry4",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 860,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "4cb6d78774233557",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 710,
        "y": 600,
        "wires": [
            [
                "3171506bd6d6c12c"
            ]
        ]
    },
    {
        "id": "9ba1b6fe051e3d8a",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Gantry11",
        "func": "var split = msg.payload.split(',');\nvar device = \"11\";\nif(String(split[1]) == String(device)){\n    return msg;\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 140,
        "y": 660,
        "wires": [
            [
                "d330a6470ef706d7"
            ]
        ]
    },
    {
        "id": "8e5916e23e71d618",
        "type": "link in",
        "z": "7d3e1120.3056a",
        "name": "",
        "links": [
            "7a3d158.c9c31ec"
        ],
        "x": 45,
        "y": 660,
        "wires": [
            [
                "9ba1b6fe051e3d8a"
            ]
        ]
    },
    {
        "id": "d330a6470ef706d7",
        "type": "switch",
        "z": "7d3e1120.3056a",
        "name": "not Null",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 300,
        "y": 660,
        "wires": [
            [
                "4d9abd4017e9d054"
            ]
        ]
    },
    {
        "id": "4d9abd4017e9d054",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Insert",
        "func": "var data = String(msg.payload);\nvar split = data.split(\",\");\nvar json = {\n    \"time\":Date.now(),\n    \"deviceID\":String(split[1]),\n    \"Value\":parseFloat(split[3])\n};\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 660,
        "wires": [
            [
                "0ca1a55ebf2ed5b9",
                "caa8ed7d6f26fbc4",
                "4ed8b45b775d4361",
                "d2e2c08f5371f0f9",
                "573812cd83765b31"
            ]
        ]
    },
    {
        "id": "0ca1a55ebf2ed5b9",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry2",
        "measurement": "DensityGantry2New",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 560,
        "y": 660,
        "wires": []
    },
    {
        "id": "caa8ed7d6f26fbc4",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "Chart",
        "func": "var data = msg.payload;\ndata.Value = map_range(data.Value,800,4096,0,2);\nmsg.payload = parseFloat(String(data.Value));\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 700,
        "wires": [
            [
                "97f7167ae1fd1968"
            ]
        ]
    },
    {
        "id": "4ed8b45b775d4361",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": " ",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 740,
        "wires": []
    },
    {
        "id": "d2e2c08f5371f0f9",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "10",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 850,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "573812cd83765b31",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": " ",
        "func": "msg.payload['Value'] = mr(msg.payload.Value,400,2000,0,2);\ndelete msg.payload['time'];\nreturn msg;\n\nfunction mr(value, low1, high1, low2, high2) {\n    var res = low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n    if(res<0){\n        return 0;\n    }else{\n        return parseFloat((res).toFixed(3));\n    }\n}",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 660,
        "wires": [
            [
                "f0943f2f51b1ea2d",
                "3ace9e6263e01ead",
                "bd26142c7ede5b47"
            ]
        ]
    },
    {
        "id": "97f7167ae1fd1968",
        "type": "function",
        "z": "7d3e1120.3056a",
        "name": "<0",
        "func": "var data = msg.payload;\nif(data<0){\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 700,
        "wires": [
            [
                "ba056f6d18014999"
            ]
        ]
    },
    {
        "id": "f0943f2f51b1ea2d",
        "type": "influxdb out",
        "z": "7d3e1120.3056a",
        "influxdb": "ac2f667d.928a08",
        "name": "Gantry2",
        "measurement": "DensityGantry2NewCal",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1120,
        "y": 660,
        "wires": []
    },
    {
        "id": "3ace9e6263e01ead",
        "type": "debug",
        "z": "7d3e1120.3056a",
        "name": "Density Tangki2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload.Value",
        "targetType": "msg",
        "statusVal": "payload.Value",
        "statusType": "auto",
        "x": 1140,
        "y": 600,
        "wires": []
    },
    {
        "id": "ba056f6d18014999",
        "type": "ui_chart",
        "z": "7d3e1120.3056a",
        "name": "",
        "group": "673e15ed.5b759c",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "DensityGantry2",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": true,
        "ymin": "0",
        "ymax": "1",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 860,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "f310eae01454bacf",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 710,
        "y": 740,
        "wires": [
            [
                "ba056f6d18014999"
            ]
        ]
    },
    {
        "id": "4247228d86c5b2c7",
        "type": "comment",
        "z": "7d3e1120.3056a",
        "name": "4",
        "info": "",
        "x": 690,
        "y": 520,
        "wires": []
    },
    {
        "id": "3310435691782848",
        "type": "comment",
        "z": "7d3e1120.3056a",
        "name": "7",
        "info": "",
        "x": 690,
        "y": 380,
        "wires": []
    },
    {
        "id": "0625ba298af64053",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "b2f095c16bda698e",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "b59b4156469d4684",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "bd26142c7ede5b47",
        "type": "trigger",
        "z": "7d3e1120.3056a",
        "name": "Status",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "2",
        "extend": true,
        "overrideDelay": true,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1110,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "6169f223e45453fc",
        "type": "mqtt out",
        "z": "7d3e1120.3056a",
        "name": "",
        "topic": "gw78/cmd",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 1050,
        "y": 100,
        "wires": []
    },
    {
        "id": "6926f2838c80abc5",
        "type": "inject",
        "z": "7d3e1120.3056a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "7,7,0,1#",
        "payloadType": "str",
        "x": 810,
        "y": 100,
        "wires": [
            [
                "6169f223e45453fc"
            ]
        ]
    },
    {
        "id": "7936b566.b9f51c",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "8e059b79.563f48"
        ],
        "x": 1895,
        "y": 220,
        "wires": [
            [
                "d6eafa02.e86008"
            ]
        ]
    },
    {
        "id": "d6eafa02.e86008",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "var d = msg.payload;\nd = d.substring(0,d.indexOf('$'));\nif(d.split(',')[0].substring(0,3)==\"CNT\"){\n    if(d.split(',').length>2){\n        var json = {\n        \"devID\":d.split(',')[0],\n        \"value1\":d.split(',')[1],\n        \"value2\":d.split(',')[2]\n        }\n        msg.payload = json;\n    }else{\n        var json2 = {\n        \"devID\":d.split(',')[0],\n        \"value1\":d.split(',')[1]\n        }\n        msg.payload = json2;\n    }\n}else{\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2050,
        "y": 220,
        "wires": [
            [
                "914d428.daefe4"
            ]
        ]
    },
    {
        "id": "914d428.daefe4",
        "type": "switch",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2180,
        "y": 280,
        "wires": [
            [
                "42a99501.e09dec",
                "69df62ed.f427ec"
            ]
        ]
    },
    {
        "id": "69df62ed.f427ec",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2070,
        "y": 440,
        "wires": []
    },
    {
        "id": "3b90d0b4.093718",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CNT3,STA",
        "payloadType": "str",
        "x": 2150,
        "y": 120,
        "wires": [
            [
                "d9074cdd.ba3f1"
            ]
        ]
    },
    {
        "id": "d9074cdd.ba3f1",
        "type": "link out",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "a2167e79.c2f358"
        ],
        "x": 2355,
        "y": 120,
        "wires": []
    },
    {
        "id": "66ccccbb.b37ae4",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "5ff93a6e.3724e4"
        ],
        "x": 125,
        "y": 60,
        "wires": [
            [
                "5f4283e2.eeaa3c",
                "1a725398a65975b1"
            ]
        ]
    },
    {
        "id": "5f4283e2.eeaa3c",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload;\nvar json = {\n    \"ID\":d.split(\",\")[1],\n    \"val\":parseInt(d.split(\",\")[3])\n}\nif(d.split(\",\")[0]!=\"12\"){\n    msg.payload = null;\n    return msg;\n}\nmsg.payload = json;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 120,
        "wires": [
            [
                "28e0f423.b46e5c"
            ]
        ]
    },
    {
        "id": "28e0f423.b46e5c",
        "type": "switch",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 310,
        "y": 120,
        "wires": [
            [
                "af5e45b2.48b508",
                "9517c843.1ce768",
                "ef918d08.104a9"
            ]
        ]
    },
    {
        "id": "9517c843.1ce768",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload;\nvar lastData = flow.get(\"LastData\" + d.ID);\n\nif (lastData === undefined ){\n    flow.set(\"LastData\" + d.ID, d.val);\n    msg.update = \"NO\";\n    return msg;\n}else{\n    msg.newdata = d;\n    msg.update = \"YES\";\n    msg.query = \"SELECT * FROM RecordFlowmeter WHERE ID = '\" + d.ID + \"' ORDER BY time DESC LIMIT 1;\";    \n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 180,
        "wires": [
            [
                "c8b10609.afcc88"
            ]
        ]
    },
    {
        "id": "ef918d08.104a9",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 450,
        "y": 60,
        "wires": []
    },
    {
        "id": "341272e4.699f7e",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "  ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 70,
        "y": 380,
        "wires": [
            [
                "525d4e27.998b3"
            ]
        ]
    },
    {
        "id": "1c088d75.3457f3",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload;\nmsg.payload = {};\nif(msg.update == \"YES\"){\n    if(d.length<1 || d[0].STAT == '1' || d == \"empty\"){\n        msg.payload['time'] = Date.now();    \n        msg.payload['ID'] = msg.newdata.ID;\n        msg.payload['EPO_BEFORE'] = Date.now();\n        msg.payload['VAL_BEFORE'] = msg.newdata.val;\n        msg.payload['EPO_AFTER'] = 0;\n        msg.payload['VAL_AFTER'] = 0;\n        msg.payload['Total_Val'] = 0;\n        msg.payload['STAT'] = '0';\n    }else{\n        if(d[0].VAL_BEFORE!=msg.newdata.val){\n            msg.payload['time'] = d[0].time;\n            msg.payload['ID'] = msg.newdata.ID;\n            msg.payload['EPO_AFTER'] = Date.now();\n            msg.payload['VAL_AFTER'] = msg.newdata.val;\n            msg.payload['Total_Val'] = parseInt(String(msg.newdata.val))-parseInt(String(d[0].VAL_BEFORE));\n            msg.payload['STAT'] = '1';\n        }else{\n            msg.payload['time'] = d[0].time;\n            msg.payload['ID'] = msg.newdata.ID;\n            msg.payload['EPO_BEFORE'] = Date.now();\n            msg.payload['VAL_BEFORE'] = msg.newdata.val;\n            msg.payload['STAT'] = '0';\n        }\n    }\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 180,
        "wires": [
            [
                "ffe5a52.0156658"
            ]
        ]
    },
    {
        "id": "c8b10609.afcc88",
        "type": "switch",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "property": "update",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "YES",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 600,
        "y": 180,
        "wires": [
            [
                "2ff8fb97.6d2524"
            ]
        ]
    },
    {
        "id": "cae6911b.9cbec",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,3,0,7879",
        "payloadType": "str",
        "x": 100,
        "y": 180,
        "wires": [
            [
                "5f4283e2.eeaa3c"
            ]
        ]
    },
    {
        "id": "a4dddd5a.0728b",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 180,
        "wires": [
            [
                "1c088d75.3457f3"
            ]
        ]
    },
    {
        "id": "525d4e27.998b3",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "  ",
        "func": "msg.query = \"\";\nmsg.query += \"SELECT * FROM RecordFlowmeter WHERE ID = '1' order by time desc limit 1;\";\nmsg.query += \"SELECT * FROM RecordFlowmeter WHERE ID = '2' order by time desc limit 1;\";\nmsg.query += \"SELECT * FROM RecordFlowmeter WHERE ID = '3' order by time desc limit 1;\";\nmsg.query += \"SELECT * FROM RecordFlowmeter WHERE ID = '4' order by time desc limit 1;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 380,
        "wires": [
            [
                "b3088a78.3c3138"
            ]
        ]
    },
    {
        "id": "77967df6.5e8a94",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ID",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].ID",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 750,
        "y": 280,
        "wires": []
    },
    {
        "id": "6d98bbfa.674eb4",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Before",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_BEFORE",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 830,
        "y": 280,
        "wires": []
    },
    {
        "id": "7af1ed93.cc1284",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "e0155f3.bec0ea"
        ],
        "x": 535,
        "y": 280,
        "wires": [
            [
                "6059e083.46bcb"
            ]
        ]
    },
    {
        "id": "e69dedf8.c725f",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "e0155f3.bec0ea"
        ],
        "x": 535,
        "y": 340,
        "wires": [
            [
                "460c3a78.bd4424"
            ]
        ]
    },
    {
        "id": "3f7e7f74.72fb8",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "e0155f3.bec0ea"
        ],
        "x": 535,
        "y": 420,
        "wires": [
            [
                "e71b5d82.b60d2"
            ]
        ]
    },
    {
        "id": "c8193024.2d837",
        "type": "link in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "e0155f3.bec0ea"
        ],
        "x": 535,
        "y": 480,
        "wires": [
            [
                "fe8872bf.40037"
            ]
        ]
    },
    {
        "id": "e0155f3.bec0ea",
        "type": "link out",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "links": [
            "7af1ed93.cc1284",
            "e69dedf8.c725f",
            "3f7e7f74.72fb8",
            "c8193024.2d837"
        ],
        "x": 455,
        "y": 380,
        "wires": []
    },
    {
        "id": "671b8bd.5cd9b74",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " After",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_AFTER",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 910,
        "y": 280,
        "wires": []
    },
    {
        "id": "6b91224f.a79fcc",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Total",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].Total_Val",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 990,
        "y": 280,
        "wires": []
    },
    {
        "id": "1ee00f78.5052e1",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 480,
        "wires": []
    },
    {
        "id": "6059e083.46bcb",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 280,
        "wires": [
            [
                "77967df6.5e8a94",
                "6d98bbfa.674eb4",
                "671b8bd.5cd9b74",
                "6b91224f.a79fcc",
                "86bbd472.72d3a8",
                "43a3972b.35e8f8"
            ]
        ]
    },
    {
        "id": "460c3a78.bd4424",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[1].series[0].values;\n    var da = msg.payload.results[1].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 340,
        "wires": [
            [
                "d0d50137.d27d1",
                "4170e119.8ec87",
                "984f7a14.3d5678",
                "d4e83a1b.dab318",
                "706a8d2.3e95a74",
                "49ed2b9d.57f884"
            ]
        ]
    },
    {
        "id": "e71b5d82.b60d2",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[2].series[0].values;\n    var da = msg.payload.results[2].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 420,
        "wires": [
            [
                "afb2a5c6.7bd4a8",
                "6d5aae2c.92be3",
                "247211ce.10847e",
                "f8d13163.fa83",
                "c5bb37d1.44ced8",
                "b099d9d.2eb8628"
            ]
        ]
    },
    {
        "id": "fe8872bf.40037",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[3].series[0].values;\n    var da = msg.payload.results[3].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 480,
        "wires": [
            [
                "2b52c9f0.b7bb86",
                "97e27489.2be918",
                "5cee89c1.5fe728",
                "907470b7.615c6",
                "d1a471ec.de7d5",
                "ce79eb19.6c7ee8"
            ]
        ]
    },
    {
        "id": "fe7e9ba0.bf5148",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var msg1= {payload:\"a\"};var msg2={payload:\"s\"} ;var msg3={payload:\"\"};var msg4={payload:\"\"};\nreturn [msg1,msg2];",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 580,
        "wires": [
            [
                "3a6eee1c.7bece2"
            ],
            [
                "9b6c62fd.76deb"
            ],
            [],
            []
        ]
    },
    {
        "id": "e83e0389.7b898",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 560,
        "wires": [
            [
                "fe7e9ba0.bf5148"
            ]
        ]
    },
    {
        "id": "3a6eee1c.7bece2",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 470,
        "y": 520,
        "wires": []
    },
    {
        "id": "9b6c62fd.76deb",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 470,
        "y": 580,
        "wires": []
    },
    {
        "id": "ebd4fafe.46e798",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 280,
        "wires": []
    },
    {
        "id": "d0d50137.d27d1",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ID",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].ID",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 750,
        "y": 340,
        "wires": []
    },
    {
        "id": "4170e119.8ec87",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Before",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_BEFORE",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 830,
        "y": 340,
        "wires": []
    },
    {
        "id": "984f7a14.3d5678",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " After",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_AFTER",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 910,
        "y": 340,
        "wires": []
    },
    {
        "id": "d4e83a1b.dab318",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Total",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].Total_Val",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 990,
        "y": 340,
        "wires": []
    },
    {
        "id": "afb2a5c6.7bd4a8",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ID",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].ID",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 750,
        "y": 420,
        "wires": []
    },
    {
        "id": "6d5aae2c.92be3",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Before",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_BEFORE",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 830,
        "y": 420,
        "wires": []
    },
    {
        "id": "247211ce.10847e",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " After",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_AFTER",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 910,
        "y": 420,
        "wires": []
    },
    {
        "id": "f8d13163.fa83",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Total",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].Total_Val",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 990,
        "y": 420,
        "wires": []
    },
    {
        "id": "2b52c9f0.b7bb86",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ID",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].ID",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 750,
        "y": 480,
        "wires": []
    },
    {
        "id": "97e27489.2be918",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Before",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_BEFORE",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 830,
        "y": 480,
        "wires": []
    },
    {
        "id": "5cee89c1.5fe728",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " After",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].VAL_AFTER",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 910,
        "y": 480,
        "wires": []
    },
    {
        "id": "907470b7.615c6",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Total",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].Total_Val",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 990,
        "y": 480,
        "wires": []
    },
    {
        "id": "38112a4e.aa41b6",
        "type": "mqtt out",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "topic": "gw78/cmd",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 600,
        "y": 720,
        "wires": []
    },
    {
        "id": "ab972ee2.860e2",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "d": true,
        "name": "request",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "4",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,4,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 720,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "f36082c1.da3e8",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "d": true,
        "name": "request",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "4",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,4,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 840,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "4ca79429.5380fc",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,1,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 900,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "a86a662f.b1f3f8",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,2,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 940,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "7ace653c.8cfc7c",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,3,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 980,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "75233b4f.997ee4",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "12,4,0,1#",
        "payloadType": "str",
        "x": 400,
        "y": 1020,
        "wires": [
            [
                "38112a4e.aa41b6"
            ]
        ]
    },
    {
        "id": "86bbd472.72d3a8",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Stat",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].STAT",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 1070,
        "y": 280,
        "wires": []
    },
    {
        "id": "706a8d2.3e95a74",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Stat",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].STAT",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 1070,
        "y": 340,
        "wires": []
    },
    {
        "id": "c5bb37d1.44ced8",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Stat",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].STAT",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 1070,
        "y": 420,
        "wires": []
    },
    {
        "id": "d1a471ec.de7d5",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " Stat",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0].STAT",
        "targetType": "msg",
        "statusVal": "payload[0].ID",
        "statusType": "auto",
        "x": 1070,
        "y": 480,
        "wires": []
    },
    {
        "id": "d0ea634a.94ab9",
        "type": "trigger",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 610,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "43a3972b.35e8f8",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload[0];\nif(Date.now()-d.EPO_BEFORE<(2.5*60*1000)){\n    msg.payload = {'time':1,'Gantry1':'Idle'}\n}else{\n    msg.payload = {'time':1,'Gantry1':'Run'}\n}\n// msg.payload = Date.now()-d.EPO_BEFORE;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 280,
        "wires": [
            [
                "e87c0e17.648d3",
                "9088ee62.92006"
            ]
        ]
    },
    {
        "id": "49ed2b9d.57f884",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload[0];\nif(Date.now()-d.EPO_BEFORE<(2.5*60*1000)){\n    msg.payload = {'time':1,'Gantry2':'Idle'}\n}else{\n    msg.payload = {'time':1,'Gantry2':'Run'}\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 340,
        "wires": [
            [
                "9088ee62.92006",
                "978e918f.74537"
            ]
        ]
    },
    {
        "id": "b099d9d.2eb8628",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload[0];\nif(Date.now()-d.EPO_BEFORE<(2.5*60*1000)){\n    msg.payload = {'time':1,'Gantry3':'Idle'}\n}else{\n    msg.payload = {'time':1,'Gantry3':'Run'}\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 420,
        "wires": [
            [
                "9088ee62.92006",
                "903a2871.6456c8"
            ]
        ]
    },
    {
        "id": "ce79eb19.6c7ee8",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "var d = msg.payload[0];\nif(Date.now()-d.EPO_BEFORE<(4.1*60*1000)){\n    msg.payload = {'time':1,'Gantry4':'Idle'}\n}else{\n    msg.payload = {'time':1,'Gantry4':'Run'}\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 480,
        "wires": [
            [
                "9088ee62.92006",
                "3ab8792b.5e8dd6"
            ]
        ]
    },
    {
        "id": "e87c0e17.648d3",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1390,
        "y": 260,
        "wires": []
    },
    {
        "id": "978e918f.74537",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1390,
        "y": 320,
        "wires": []
    },
    {
        "id": "903a2871.6456c8",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1390,
        "y": 440,
        "wires": []
    },
    {
        "id": "3ab8792b.5e8dd6",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1390,
        "y": 500,
        "wires": []
    },
    {
        "id": "2a2b6811.7fa518",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1160,
        "wires": [
            [
                "dd22da2c.f848b8"
            ]
        ]
    },
    {
        "id": "de5524db.588bf8",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "query",
                "v": "select * from RecordFlowmeter",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1100,
        "wires": [
            [
                "d221ba4c.ecf758"
            ]
        ]
    },
    {
        "id": "456344fa.79dffc",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 1120,
        "wires": []
    },
    {
        "id": "925f2b1f.cae468",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1280,
        "wires": [
            [
                "d7ae86ef.8fbc58"
            ]
        ]
    },
    {
        "id": "d7ae86ef.8fbc58",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "rm /home/pi/simulasi/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 350,
        "y": 1300,
        "wires": [
            [
                "e19b1dc3.7015d",
                "6909db16.3c5a44"
            ],
            [],
            []
        ]
    },
    {
        "id": "4b8381af.ee97",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "e19b1dc3.7015d",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 1260,
        "wires": []
    },
    {
        "id": "6909db16.3c5a44",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "sudo cp /home/pi/simulasi/interfacesdisable /home/pi/simulasi/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 480,
        "y": 1380,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "f0e2548.301e5a8",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "ls /home/pi/simulasi/",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 480,
        "y": 1220,
        "wires": [
            [
                "e19b1dc3.7015d"
            ],
            [],
            []
        ]
    },
    {
        "id": "706aea8d.a57fe4",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1220,
        "wires": [
            [
                "f0e2548.301e5a8"
            ]
        ]
    },
    {
        "id": "7c67cd5f.bf7684",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1520,
        "wires": [
            [
                "2265b215.59c5fe"
            ]
        ]
    },
    {
        "id": "2265b215.59c5fe",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "rm /home/pi/simulasi/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 350,
        "y": 1540,
        "wires": [
            [
                "79724c4f.66c5c4"
            ],
            [],
            []
        ]
    },
    {
        "id": "79724c4f.66c5c4",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "sudo cp /home/pi/simulasi/interfacesenable /home/pi/simulasi/interfaces",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 480,
        "y": 1620,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "f466ef3a.254d3",
        "type": "exec",
        "z": "885cfdcb.4c18f8",
        "command": "sudo systemctl restart networking",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 360,
        "y": 1460,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "69f7ba3f.774834",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 1060,
        "wires": []
    },
    {
        "id": "42a99501.e09dec",
        "type": "influxdb out",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "measurement": "Counter",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 2490,
        "y": 220,
        "wires": []
    },
    {
        "id": "af5e45b2.48b508",
        "type": "influxdb out",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": "FlowmeterGantry",
        "measurement": "FlowmeterGantry",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 590,
        "y": 120,
        "wires": []
    },
    {
        "id": "ffe5a52.0156658",
        "type": "influxdb out",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": "RecordFlowmeter",
        "measurement": "RecordFlowmeter",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1130,
        "y": 180,
        "wires": []
    },
    {
        "id": "9088ee62.92006",
        "type": "influxdb out",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": "StatusGantry",
        "measurement": "StatusGantry",
        "precision": "n",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "organisation",
        "bucket": "bucket",
        "x": 1390,
        "y": 380,
        "wires": []
    },
    {
        "id": "2ff8fb97.6d2524",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 730,
        "y": 180,
        "wires": [
            [
                "a4dddd5a.0728b"
            ]
        ]
    },
    {
        "id": "b3088a78.3c3138",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 310,
        "y": 380,
        "wires": [
            [
                "ebd4fafe.46e798",
                "e0155f3.bec0ea",
                "d0ea634a.94ab9"
            ]
        ]
    },
    {
        "id": "d221ba4c.ecf758",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 330,
        "y": 1160,
        "wires": [
            [
                "69f7ba3f.774834",
                "2a2b6811.7fa518"
            ]
        ]
    },
    {
        "id": "dd22da2c.f848b8",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/RecordDatabaseFlowmeter.xlsx",
        "x": 590,
        "y": 1100,
        "wires": [
            [
                "456344fa.79dffc"
            ]
        ]
    },
    {
        "id": "6ea4443e58f1ba05",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "d": true,
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 600,
        "y": 640,
        "wires": [
            [
                "26febf11d27aeb32"
            ]
        ]
    },
    {
        "id": "26febf11d27aeb32",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "function 1",
        "func": "msg.query = \"\";\nmsg.query += \"select count(ID) as count from RecordFlowmeter\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 640,
        "wires": [
            [
                "6850c19ca09f5208"
            ]
        ]
    },
    {
        "id": "6850c19ca09f5208",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 930,
        "y": 640,
        "wires": [
            [
                "851f23be5bb7ce32",
                "0588a563ad88aaa1"
            ]
        ]
    },
    {
        "id": "851f23be5bb7ce32",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1110,
        "y": 640,
        "wires": []
    },
    {
        "id": "0588a563ad88aaa1",
        "type": "mqtt out",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "topic": "CountFlowmeterDataKelanis",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6538926a.ad8a7c",
        "x": 1170,
        "y": 720,
        "wires": []
    },
    {
        "id": "cb4efb84db394afb",
        "type": "mqtt in",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "topic": "RequestFlowmeterDataKelanis",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "6538926a.ad8a7c",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 660,
        "y": 800,
        "wires": [
            [
                "e271ec5571e387dd"
            ]
        ]
    },
    {
        "id": "ee730af7f7a62b54",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1070,
        "y": 800,
        "wires": [
            [
                "01b298c918d3709f"
            ]
        ]
    },
    {
        "id": "e271ec5571e387dd",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "function 2",
        "func": "msg.query = msg.payload;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 800,
        "wires": [
            [
                "ee730af7f7a62b54"
            ]
        ]
    },
    {
        "id": "01b298c918d3709f",
        "type": "mqtt out",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "topic": "ReceiveFlowmeterDataKelanis",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6538926a.ad8a7c",
        "x": 1370,
        "y": 800,
        "wires": []
    },
    {
        "id": "1a725398a65975b1",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 210,
        "y": 40,
        "wires": []
    },
    {
        "id": "42218e2dcba23974",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 560,
        "y": 960,
        "wires": [
            [
                "ddb77b7cc72e75d0",
                "d12957c9e29021ca"
            ]
        ]
    },
    {
        "id": "3086b69519e1f8f3",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1070,
        "y": 960,
        "wires": [
            [
                "42295f0b42d89f34"
            ]
        ]
    },
    {
        "id": "42295f0b42d89f34",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/RecordDatabaseFlowmeter.xlsx",
        "x": 1190,
        "y": 960,
        "wires": [
            [
                "27e4ed7d826b3390"
            ]
        ]
    },
    {
        "id": "27e4ed7d826b3390",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1390,
        "y": 980,
        "wires": []
    },
    {
        "id": "ddb77b7cc72e75d0",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from RecordFlowmeter;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 960,
        "wires": [
            [
                "e8d884fc125cf6dd"
            ]
        ]
    },
    {
        "id": "d12957c9e29021ca",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from StatusFuelTempNew;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 720,
        "y": 1000,
        "wires": [
            [
                "2b944c883d68fb59"
            ]
        ]
    },
    {
        "id": "0d932225ac56b3c0",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1070,
        "y": 1000,
        "wires": [
            [
                "d63aa7e5e6626aa0"
            ]
        ]
    },
    {
        "id": "d63aa7e5e6626aa0",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/RecordKelanis.xlsx",
        "x": 1190,
        "y": 1000,
        "wires": [
            [
                "27e4ed7d826b3390"
            ]
        ]
    },
    {
        "id": "2b944c883d68fb59",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 870,
        "y": 1000,
        "wires": [
            [
                "0d932225ac56b3c0"
            ]
        ]
    },
    {
        "id": "e8d884fc125cf6dd",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 870,
        "y": 960,
        "wires": [
            [
                "3086b69519e1f8f3"
            ]
        ]
    },
    {
        "id": "1d53747338d7d4d7",
        "type": "inject",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 820,
        "y": 1180,
        "wires": [
            [
                "1321d369f9d0893d",
                "5556e156fa8c040f",
                "cec1e78945261c0f",
                "730544c64daf970b"
            ]
        ]
    },
    {
        "id": "4efc0dfe9b1b5689",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1330,
        "y": 1180,
        "wires": [
            [
                "7fb0eecbe0ef6000"
            ]
        ]
    },
    {
        "id": "7fb0eecbe0ef6000",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/Flowmeter1.xlsx",
        "x": 1450,
        "y": 1180,
        "wires": [
            [
                "d6cfe4ad63d84ae9"
            ]
        ]
    },
    {
        "id": "d6cfe4ad63d84ae9",
        "type": "debug",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1650,
        "y": 1200,
        "wires": []
    },
    {
        "id": "1321d369f9d0893d",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from RecordFlowmeter WHERE ID = '1';\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1180,
        "wires": [
            [
                "32ce55d2bc80d16d"
            ]
        ]
    },
    {
        "id": "e21b1b61f9657a7f",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/Flowmeter2.xlsx",
        "x": 1450,
        "y": 1220,
        "wires": [
            [
                "d6cfe4ad63d84ae9"
            ]
        ]
    },
    {
        "id": "ea1c2c59cbd7f294",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1330,
        "y": 1220,
        "wires": [
            [
                "e21b1b61f9657a7f"
            ]
        ]
    },
    {
        "id": "a5d5c98978910436",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/Flowmeter3.xlsx",
        "x": 1450,
        "y": 1260,
        "wires": [
            [
                "d6cfe4ad63d84ae9"
            ]
        ]
    },
    {
        "id": "00ac8e2d48cf4b36",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1330,
        "y": 1260,
        "wires": [
            [
                "a5d5c98978910436"
            ]
        ]
    },
    {
        "id": "297080e6d729cfde",
        "type": "excel",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "file": "/home/pi/Excel/Flowmeter4.xlsx",
        "x": 1450,
        "y": 1300,
        "wires": [
            [
                "d6cfe4ad63d84ae9"
            ]
        ]
    },
    {
        "id": "630215565662d864",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": " ",
        "func": "try{\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload= arr;\n    return msg;\n}catch(x){\n    msg.payload = \"empty\";\n    return msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1330,
        "y": 1300,
        "wires": [
            [
                "297080e6d729cfde"
            ]
        ]
    },
    {
        "id": "5556e156fa8c040f",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from RecordFlowmeter WHERE ID = '2';\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1220,
        "wires": [
            [
                "e5c0487f42075238"
            ]
        ]
    },
    {
        "id": "cec1e78945261c0f",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from RecordFlowmeter WHERE ID = '3';\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1260,
        "wires": [
            [
                "5d0879ee7bfd78ee"
            ]
        ]
    },
    {
        "id": "730544c64daf970b",
        "type": "function",
        "z": "885cfdcb.4c18f8",
        "name": "",
        "func": "msg.query = \"\";\nmsg.query += \"select * from RecordFlowmeter WHERE ID = '4';\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 1300,
        "wires": [
            [
                "ff1088e343b4752f"
            ]
        ]
    },
    {
        "id": "32ce55d2bc80d16d",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1150,
        "y": 1180,
        "wires": [
            [
                "4efc0dfe9b1b5689"
            ]
        ]
    },
    {
        "id": "e5c0487f42075238",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1150,
        "y": 1220,
        "wires": [
            [
                "ea1c2c59cbd7f294"
            ]
        ]
    },
    {
        "id": "5d0879ee7bfd78ee",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1150,
        "y": 1260,
        "wires": [
            [
                "00ac8e2d48cf4b36"
            ]
        ]
    },
    {
        "id": "ff1088e343b4752f",
        "type": "influxdb in",
        "z": "885cfdcb.4c18f8",
        "influxdb": "ac2f667d.928a08",
        "name": " ",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 1150,
        "y": 1300,
        "wires": [
            [
                "630215565662d864"
            ]
        ]
    },
    {
        "id": "8f5eccbc.5da3b",
        "type": "mqtt in",
        "z": "363f2683.db1e3a",
        "name": "",
        "topic": "#",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 70,
        "y": 40,
        "wires": [
            [
                "648f7a68.2ad2f4"
            ]
        ]
    },
    {
        "id": "ca01316a.42c47",
        "type": "mqtt out",
        "z": "363f2683.db1e3a",
        "name": "",
        "topic": "fuelkelanisrequestliter",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "6538926a.ad8a7c",
        "x": 300,
        "y": 100,
        "wires": []
    },
    {
        "id": "4ebeaadc.c01974",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 90,
        "y": 100,
        "wires": [
            [
                "ca01316a.42c47"
            ]
        ]
    },
    {
        "id": "648f7a68.2ad2f4",
        "type": "debug",
        "z": "363f2683.db1e3a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 230,
        "y": 40,
        "wires": []
    },
    {
        "id": "9daad1c8.0f634",
        "type": "mqtt in",
        "z": "363f2683.db1e3a",
        "name": "Sta Gentry",
        "topic": "LR001/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 80,
        "y": 220,
        "wires": [
            [
                "ee52d33d.fc592",
                "936ba09c.17b03"
            ]
        ]
    },
    {
        "id": "ee52d33d.fc592",
        "type": "debug",
        "z": "363f2683.db1e3a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 350,
        "y": 340,
        "wires": []
    },
    {
        "id": "51b2f146.1b7fc",
        "type": "mqtt out",
        "z": "363f2683.db1e3a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 250,
        "y": 160,
        "wires": []
    },
    {
        "id": "aebd4823.0bae28",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR005/cmd",
        "payload": "FS011,1#",
        "payloadType": "str",
        "x": 160,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "4b71344e.6aa69c",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR001/cmd",
        "payload": "FMRC003,ON#",
        "payloadType": "str",
        "x": 180,
        "y": 480,
        "wires": [
            [
                "21368680.86e0ea"
            ]
        ]
    },
    {
        "id": "d6dd700e.12359",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR001/cmd",
        "payload": "FMRC003,LD,10#",
        "payloadType": "str",
        "x": 180,
        "y": 520,
        "wires": [
            [
                "21368680.86e0ea"
            ]
        ]
    },
    {
        "id": "e7636ebc.89f28",
        "type": "function",
        "z": "363f2683.db1e3a",
        "name": "",
        "func": "var data = msg.payload;\nvar dataArr = data.split(\",\");\nif (dataArr[0] == \"NT001\") {\n    msg.payload = \"NT001,1#\";\n    msg.topic = \"LR001/cmd\";\n} else {\n    msg.payload = null;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 220,
        "wires": [
            [
                "b8ac9c53.d32cc"
            ]
        ]
    },
    {
        "id": "b8ac9c53.d32cc",
        "type": "switch",
        "z": "363f2683.db1e3a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 430,
        "y": 260,
        "wires": [
            [
                "68d126d7.6c9a08"
            ]
        ]
    },
    {
        "id": "68d126d7.6c9a08",
        "type": "delay",
        "z": "363f2683.db1e3a",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 600,
        "y": 220,
        "wires": [
            [
                "87ef7d32.12a2a"
            ]
        ]
    },
    {
        "id": "9813c1a1.fb5a1",
        "type": "switch",
        "z": "363f2683.db1e3a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 270,
        "y": 260,
        "wires": [
            [
                "e7636ebc.89f28"
            ]
        ]
    },
    {
        "id": "936ba09c.17b03",
        "type": "trigger",
        "z": "363f2683.db1e3a",
        "name": "",
        "op1": "",
        "op2": "1",
        "op1type": "pay",
        "op2type": "num",
        "duration": "6",
        "extend": true,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 240,
        "y": 220,
        "wires": [
            [
                "9813c1a1.fb5a1"
            ]
        ]
    },
    {
        "id": "72782534.182f1c",
        "type": "mqtt in",
        "z": "363f2683.db1e3a",
        "name": "Sta Fuel",
        "topic": "LR002/sta",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": false,
        "inputs": 0,
        "x": 80,
        "y": 320,
        "wires": [
            [
                "ee52d33d.fc592"
            ]
        ]
    },
    {
        "id": "4711bd5b.f46844",
        "type": "link in",
        "z": "363f2683.db1e3a",
        "name": "LocalRaspiKelanis",
        "links": [
            "87ef7d32.12a2a",
            "92140278.8e7be",
            "bd2742dc.c0598"
        ],
        "x": 35,
        "y": 160,
        "wires": [
            [
                "51b2f146.1b7fc"
            ]
        ]
    },
    {
        "id": "87ef7d32.12a2a",
        "type": "link out",
        "z": "363f2683.db1e3a",
        "name": "",
        "links": [
            "4711bd5b.f46844"
        ],
        "x": 715,
        "y": 220,
        "wires": []
    },
    {
        "id": "7180f7a9.91e278",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR001/cmd",
        "payload": "FMRC003,OFF#",
        "payloadType": "str",
        "x": 180,
        "y": 600,
        "wires": [
            [
                "21368680.86e0ea"
            ]
        ]
    },
    {
        "id": "21368680.86e0ea",
        "type": "mqtt out",
        "z": "363f2683.db1e3a",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 430,
        "y": 520,
        "wires": []
    },
    {
        "id": "fd2920a.b2970e",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR002/sta",
        "payload": "FS012,1951$",
        "payloadType": "str",
        "x": 180,
        "y": 680,
        "wires": [
            [
                "21368680.86e0ea"
            ]
        ]
    },
    {
        "id": "26091140.258ebe",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "query",
                "v": "select * from FuelTangki1 order by time desc limit 100;",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 740,
        "wires": [
            [
                "c664ae95.f2df4"
            ]
        ]
    },
    {
        "id": "9473c918.567b38",
        "type": "debug",
        "z": "363f2683.db1e3a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 880,
        "wires": []
    },
    {
        "id": "f8f6e6d1.7b7588",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "LR002/cmd",
        "payload": "DST101,0",
        "payloadType": "str",
        "x": 180,
        "y": 1000,
        "wires": [
            [
                "bd2742dc.c0598"
            ]
        ]
    },
    {
        "id": "bd2742dc.c0598",
        "type": "link out",
        "z": "363f2683.db1e3a",
        "name": "",
        "links": [
            "4711bd5b.f46844"
        ],
        "x": 395,
        "y": 1000,
        "wires": []
    },
    {
        "id": "a4f3224.fe0fe6",
        "type": "inject",
        "z": "363f2683.db1e3a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1260,
        "wires": [
            [
                "607df9f7.b6d978"
            ]
        ]
    },
    {
        "id": "607df9f7.b6d978",
        "type": "function",
        "z": "363f2683.db1e3a",
        "name": "",
        "func": "msg.query = \"SELECT * FROM TempTangki4 order by time desc limit 30000\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 1360,
        "wires": [
            [
                "86afa2b2.0711a"
            ]
        ]
    },
    {
        "id": "3965dc5e.45778c",
        "type": "debug",
        "z": "363f2683.db1e3a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 1480,
        "wires": []
    },
    {
        "id": "981ce299.0238e",
        "type": "function",
        "z": "363f2683.db1e3a",
        "name": "",
        "func": "var d  = msg.payload;\nfor(i=0;i<d.length;i++){\n    d[i]['Datee'] = String(d[i].time);\n    d[i]['time'] = Date.parse(String(d[i].time));\n}\nmsg.payload = d;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 1380,
        "wires": [
            [
                "fb561d63.614dd8"
            ]
        ]
    },
    {
        "id": "c0c9ebfe.7f6258",
        "type": "debug",
        "z": "363f2683.db1e3a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 1300,
        "wires": []
    },
    {
        "id": "c664ae95.f2df4",
        "type": "influxdb in",
        "z": "363f2683.db1e3a",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 320,
        "y": 800,
        "wires": [
            [
                "9473c918.567b38"
            ]
        ]
    },
    {
        "id": "86afa2b2.0711a",
        "type": "influxdb in",
        "z": "363f2683.db1e3a",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 500,
        "y": 1360,
        "wires": [
            [
                "c0c9ebfe.7f6258",
                "981ce299.0238e"
            ]
        ]
    },
    {
        "id": "fb561d63.614dd8",
        "type": "excel",
        "z": "363f2683.db1e3a",
        "name": "aaa",
        "file": "/home/pi/Excel/NewBackup/Temp4.xlsx",
        "x": 790,
        "y": 1420,
        "wires": [
            [
                "3965dc5e.45778c"
            ]
        ]
    },
    {
        "id": "ced9a0cb.75abe",
        "type": "comment",
        "z": "b0c48d96.b10fb",
        "name": "Gantry3",
        "info": "",
        "x": 110,
        "y": 80,
        "wires": []
    },
    {
        "id": "12bee8eb286ed4bc",
        "type": "tcp in",
        "z": "b0c48d96.b10fb",
        "name": "",
        "server": "server",
        "host": "localhost",
        "port": "8234",
        "datamode": "stream",
        "datatype": "utf8",
        "newline": "",
        "topic": "",
        "trim": false,
        "base64": false,
        "tls": "",
        "x": 190,
        "y": 260,
        "wires": [
            [
                "d7a1788324f87d76",
                "4c6af9c9b7135a02",
                "8e059b79.563f48"
            ]
        ]
    },
    {
        "id": "d7a1788324f87d76",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 510,
        "y": 260,
        "wires": []
    },
    {
        "id": "d84a158365f4428e",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CNT3,LD,10#",
        "payloadType": "str",
        "x": 230,
        "y": 360,
        "wires": [
            [
                "4c6af9c9b7135a02",
                "21415394d9411bf6"
            ]
        ]
    },
    {
        "id": "4c6af9c9b7135a02",
        "type": "tcp out",
        "z": "b0c48d96.b10fb",
        "name": "",
        "host": "",
        "port": "",
        "beserver": "reply",
        "base64": false,
        "end": false,
        "x": 530,
        "y": 320,
        "wires": []
    },
    {
        "id": "21415394d9411bf6",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 460,
        "wires": []
    },
    {
        "id": "5301f0802f15f6e1",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CNT3,START#",
        "payloadType": "str",
        "x": 240,
        "y": 400,
        "wires": [
            [
                "4c6af9c9b7135a02",
                "21415394d9411bf6"
            ]
        ]
    },
    {
        "id": "1c61532c84283b77",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "RLY3,START",
        "payloadType": "str",
        "x": 230,
        "y": 480,
        "wires": [
            [
                "4c6af9c9b7135a02",
                "21415394d9411bf6"
            ]
        ]
    },
    {
        "id": "a84b14780c9ee80b",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "RLY3,STOP",
        "payloadType": "str",
        "x": 230,
        "y": 540,
        "wires": [
            [
                "4c6af9c9b7135a02",
                "21415394d9411bf6"
            ]
        ]
    },
    {
        "id": "920e58c6c4e19219",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CNT3,STA",
        "payloadType": "str",
        "x": 220,
        "y": 320,
        "wires": [
            [
                "4c6af9c9b7135a02"
            ]
        ]
    },
    {
        "id": "3b758814.513118",
        "type": "mqtt in",
        "z": "b0c48d96.b10fb",
        "name": "",
        "topic": "ToServer",
        "qos": "2",
        "datatype": "auto",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 190,
        "y": 700,
        "wires": [
            [
                "35487d96.447f22"
            ]
        ]
    },
    {
        "id": "35487d96.447f22",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "name": "",
        "func": "var d = msg.payload;\nvar devList = [\"\",\"\",\"CNT3\",\"\"];\nvar RlyList = [\"\",\"\",\"RLY3\",\"\"]\nvar cmd = \"\";\nif(d.includes(\":\")){\n    var a = d.split(':');\n    if(a[0].substring(0,4) == \"SetG\"){\n        cmd = devList[parseInt(a[0].substring(a[0].length-1,a[0].length))-1]+\",LD,\"+String(a[1])+\"#\";\n    }else if(a[0].substring(0,6) == \"StartG\"){\n        cmd = devList[parseInt(a[0].substring(a[0].length-1,a[0].length))-1]+\",START#\";\n    }else if(a[0].substring(0,5) == \"StopG\"){\n        cmd = RlyList[parseInt(a[0].substring(a[0].length-1,a[0].length))-1]+\",STOP#\";\n    }\n}\nmsg.payload = cmd;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 700,
        "wires": [
            [
                "4ef590b7.6040f",
                "f8daa829.8cc41"
            ]
        ]
    },
    {
        "id": "4ef590b7.6040f",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 700,
        "wires": []
    },
    {
        "id": "f8daa829.8cc41",
        "type": "link out",
        "z": "b0c48d96.b10fb",
        "name": "",
        "links": [
            "a2167e79.c2f358"
        ],
        "x": 515,
        "y": 720,
        "wires": []
    },
    {
        "id": "a2167e79.c2f358",
        "type": "link in",
        "z": "b0c48d96.b10fb",
        "name": "OutServer",
        "links": [
            "f8daa829.8cc41",
            "d9074cdd.ba3f1"
        ],
        "x": 425,
        "y": 380,
        "wires": [
            [
                "4c6af9c9b7135a02"
            ]
        ]
    },
    {
        "id": "598b6280.f21804",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "name": "",
        "func": "var d = msg.payload;\nif(msg.topic == \"ToVB\"){\n    msg.payload = null;\n}\nif(d.substring(0,d.indexOf(\"$\"))==\"CNT3,OK\"){\n    msg.payload = \"sys/){info:'OK'}\";\n}else{\n    msg.payload = null;\n}\n// msg.payload = d.substring(0,d.indexOf(\"$\"));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 820,
        "wires": [
            [
                "1619dd4e.752ae3",
                "22ec2cb2.dc52f4"
            ]
        ]
    },
    {
        "id": "b8317b4.ef20188",
        "type": "mqtt out",
        "z": "b0c48d96.b10fb",
        "name": "",
        "topic": "ToVB",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 670,
        "y": 820,
        "wires": []
    },
    {
        "id": "22ec2cb2.dc52f4",
        "type": "switch",
        "z": "b0c48d96.b10fb",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nnull"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 480,
        "y": 900,
        "wires": [
            [
                "4ae5a1e5.4a258",
                "b8317b4.ef20188"
            ]
        ]
    },
    {
        "id": "4ae5a1e5.4a258",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "asdasd",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 900,
        "wires": []
    },
    {
        "id": "e2a9b12e.db2e9",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "CNT3,OK$",
        "payloadType": "str",
        "x": 210,
        "y": 920,
        "wires": [
            [
                "598b6280.f21804"
            ]
        ]
    },
    {
        "id": "1619dd4e.752ae3",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 540,
        "y": 800,
        "wires": []
    },
    {
        "id": "8e059b79.563f48",
        "type": "link out",
        "z": "b0c48d96.b10fb",
        "name": "GetTCP",
        "links": [
            "188b08ad.0f8d17",
            "7936b566.b9f51c"
        ],
        "x": 315,
        "y": 200,
        "wires": []
    },
    {
        "id": "188b08ad.0f8d17",
        "type": "link in",
        "z": "b0c48d96.b10fb",
        "name": "",
        "links": [
            "8e059b79.563f48"
        ],
        "x": 125,
        "y": 780,
        "wires": [
            [
                "598b6280.f21804"
            ]
        ]
    },
    {
        "id": "576e647d.e85f1c",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": " ",
        "func": "msg.query = \"SELECT * FROM StatusFuelTempGrafana order by time desc limit 1;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 1140,
        "wires": [
            [
                "db68f84a.348b08"
            ]
        ]
    },
    {
        "id": "fb5c17b2.085458",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": " ",
        "func": "var d = msg.payload.results[0].series[0].values;\nvar da = msg.payload.results[0].series[0].columns;\nvar arr = [];\nfor(i=0;i<d.length;i++){\n    var json = {};\n    json[da[0]] = d[i][0];\n    json[da[1]] = d[i][1];\n    json[da[2]] = d[i][2];\n    json[da[3]] = d[i][3];\n    json[da[4]] = d[i][4];\n    json[da[5]] = d[i][5];\n    json[da[6]] = d[i][6];\n    json[da[7]] = d[i][7];\n    json[da[8]] = d[i][8];\n    json[da[9]] = d[i][9];\n    json[da[10]] = d[i][10];\n    json[da[11]] = d[i][11];\n    json[da[12]] = d[i][12];\n    arr.push(json);\n}\nmsg.payload= arr;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1140,
        "wires": [
            [
                "695b02b9.1e93ac"
            ]
        ]
    },
    {
        "id": "54a6928a.c6715c",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 1140,
        "wires": []
    },
    {
        "id": "16ceb84.8bfcf48",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "Current Data",
        "url": "/getCurrentData",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 150,
        "y": 1140,
        "wires": [
            [
                "576e647d.e85f1c"
            ]
        ]
    },
    {
        "id": "a2fb1c5.45b29e",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 810,
        "y": 1180,
        "wires": []
    },
    {
        "id": "f0f7433b.31225",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": " ",
        "func": "if (msg.payload && msg.payload.results && msg.payload.results[0] && msg.payload.results[0].series && msg.payload.results[0].series[0] && msg.payload.results[0].series[0].values) {\n    var d = msg.payload.results[0].series[0].values;\n    var da = msg.payload.results[0].series[0].columns;\n    var arr = [];\n    for(i=0;i<d.length;i++){\n        var json = {};\n        json[da[0]] = d[i][0];\n        json[da[1]] = d[i][1];\n        json[da[2]] = d[i][2];\n        json[da[3]] = d[i][3];\n        json[da[4]] = d[i][4];\n        json[da[5]] = d[i][5];\n        json[da[6]] = d[i][6];\n        json[da[7]] = d[i][7];\n        json[da[8]] = d[i][8];\n        json[da[9]] = d[i][9];\n        json[da[10]] = d[i][10];\n        json[da[11]] = d[i][11];\n        json[da[12]] = d[i][12];\n        json[da[13]] = d[i][13];\n        arr.push(json);\n    }\n    msg.payload = arr;\n} else {\n    msg.payload = msg.payload;\n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1300,
        "wires": [
            [
                "e86186d6.efbe28"
            ]
        ]
    },
    {
        "id": "3b28751.b638a8a",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "Array Data",
        "url": "/getArrayData",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 1300,
        "wires": [
            [
                "878c15cc.e0cc28",
                "3958aa4a.9f17d6"
            ]
        ]
    },
    {
        "id": "6dbac86a.b45428",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 850,
        "y": 1340,
        "wires": []
    },
    {
        "id": "21635ebc.068032",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"data\": \"Last 30 minutes\"}",
        "payloadType": "json",
        "x": 170,
        "y": 1240,
        "wires": [
            [
                "878c15cc.e0cc28"
            ]
        ]
    },
    {
        "id": "90ceecf5.d9acb",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1300,
        "wires": []
    },
    {
        "id": "c2ce19a3.325be8",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1080,
        "wires": [
            [
                "576e647d.e85f1c"
            ]
        ]
    },
    {
        "id": "e86186d6.efbe28",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": " ",
        "func": "\nif (msg.payload) {\n    var data = msg.payload;\n    var time = [];\n    var tank1 = [];\n    var tank2 = [];\n    var tank3 = [];\n    var tank4 = [];\n\n    for (var i = 0; i < data.length; i++) {\n        var dateObject = new Date(data[i].time / 1000000);\n        var jam = dateObject.getHours();\n        var menit = dateObject.getMinutes();\n        var detik = dateObject.getSeconds();\n        var waktuJam = `${jam}:${menit}:${detik}`;   \n        time.push(waktuJam);\n\n        if (data[i].Tangki1 === -1) {\n            data[i].Tangki1 = 0;\n        } else if (data[i].Tangki2 === -1) {\n            data[i].Tangki2 = 0;\n        } else if (data[i].Tangki3 === -1) {\n            data[i].Tangki3 = 0;\n        } else if (data[i].Tangki4 === -1) {\n            data[i].Tangki4 = 0;\n        }\n\n        tank1.push(data[i].Tangki1);\n        tank2.push(data[i].Tangki2);\n        tank3.push(data[i].Tangki3);\n        tank4.push(data[i].Tangki4);\n    }\n\n    msg.payload = {\n        time: time,\n        tank1: tank1,\n        tank2: tank2,\n        tank3: tank3,\n        tank4: tank4\n    };\n} else {\n    msg.payload = {\n        time: [],\n        tank1: [],\n        tank2: [],\n        tank3: [],\n        tank4: []\n    };\n}\nvar dat = msg.payload;\nvar limit = 35;\nvar res = {};\nvar len = 0;\nvar keys = ['time','tank1','tank2','tank3','tank4'];\nfor(i=0;i<keys.length;i++){\n    res[keys[i]] = [];\n}\n\nif(dat.time.length>limit){\n    len = Math.round(dat.time.length/limit);\n}\nif(dat.time.length<limit){\n    for(i=0;i<dat.time.length;i++){\n        res['time'].push(dat.time[i]);\n        res['tank1'].push(dat.tank1[i]);\n        res['tank2'].push(dat.tank2[i]);\n        res['tank3'].push(dat.tank3[i]);\n        res['tank4'].push(dat.tank4[i]);\n    }\n}else{\n    for(i=0;i<limit;i++){\n        res['time'].push(dat.time[(len*i)]);\n        res['tank1'].push(dat.tank1[(len*i)]);\n        res['tank2'].push(dat.tank2[(len*i)]);\n        res['tank3'].push(dat.tank3[(len*i)]);\n        res['tank4'].push(dat.tank4[(len*i)]);\n    }\n    res['time'].push(dat.time[dat.length-1]);\n    res['tank1'].push(dat.tank1[dat.length-1]);\n    res['tank2'].push(dat.tank2[dat.length-1]);\n    res['tank3'].push(dat.tank3[dat.length-1]);\n    res['tank4'].push(dat.tank4[dat.length-1]);\n}\n\nmsg.payload = res;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 1300,
        "wires": [
            [
                "90ceecf5.d9acb",
                "6dbac86a.b45428"
            ]
        ]
    },
    {
        "id": "695b02b9.1e93ac",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "func": "let payload = msg.payload;\n\npayload.forEach(item => {\n    for (let key in item) {\n        if (item[key] === -1) {\n            item[key] = 0;\n        }\n    }\n});\n\nmsg.payload = payload;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1140,
        "wires": [
            [
                "54a6928a.c6715c",
                "a2fb1c5.45b29e"
            ]
        ]
    },
    {
        "id": "878c15cc.e0cc28",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": "",
        "func": "function cekData(msg) {\n    const timeOptions = {\n        \"0\": 60*5*1000*3*2*2,\n        \"Last 5 minutes\": 60*5*1000,\n        \"Last 15 minutes\": 60*5*1000*3,\n        \"Last 30 minutes\": 60*5*1000*3*2,\n        \"Last 1 hour\": 60*5*1000*3*2*2,\n        \"Last 2 hours\": 60*5*1000*3*2*2*2,\n        \"Last 6 hours\": 60*5*1000*3*2*2*2*3,\n        \"Last 24 hours\": 60*5*1000*3*2*2*2*3*4,\n        \"Last week\": 60*5*1000*3*2*2*2*3*4*7,\n        \"Last month\": 60*5*1000*3*2*2*2*3*4*7*4,\n        \"Last year\": 60*5*1000*3*2*2*2*3*4*7*4*12\n    };\n    \n    const selectedTime = msg.payload.data;\n\n    if (timeOptions[selectedTime]) {\n        const query = `SELECT * FROM StatusFuelTempGrafana WHERE time > `+String(Date.now())+`000000 - ${timeOptions[selectedTime]}000000`;\n        flow.set(\"QUERY\", query);\n        msg.query = String(query);\n    }\n    \n    if (selectedTime === \"1\") {\n        msg.query = flow.get(\"QUERY\");        \n    }\n\n    return msg;\n}\n\nmsg = cekData(msg);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1300,
        "wires": [
            [
                "a3e269f9.425ab8"
            ]
        ]
    },
    {
        "id": "81bb8c0.f45d978",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": " ",
        "func": "var d = msg.payload;\n\nif (d.data == \"1\") {\n    msg.query = \"SELECT * FROM RecordFlowmeter order by time desc limit 50;\";\n} else if (d.data == \"2\") {\n    var start = d.start;\n    var end = d.end;\n    msg.query = \"\";\n    msg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '1' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${start}000 AND time <= ${end}000;`;\n    msg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '2' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${start}000 AND time <= ${end}000;`;\n    msg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '3' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${start}000 AND time <= ${end}000;`;\n    msg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '4' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${start}000 AND time <= ${end}000;`;\n}\n\nreturn msg;\n\n// 1694834783221",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1500,
        "wires": [
            [
                "66d4772f.e90c28"
            ]
        ]
    },
    {
        "id": "ed064dbe.13414",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1460,
        "wires": [
            [
                "81bb8c0.f45d978"
            ]
        ]
    },
    {
        "id": "ef5d6d20.0fd75",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": " ",
        "func": "let today = new Date();\ntoday.setHours(0, 0, 0, 0);\nlet timestampToday = today.getTime();\n\nmsg.query = \"\";\nmsg.query += `SELECT * FROM FlowmeterGantry WHERE ID = '1' AND time >= ${timestampToday}ms;`;\nmsg.query += `SELECT * FROM FlowmeterGantry WHERE ID = '2' AND time >= ${timestampToday}ms;`;\nmsg.query += `SELECT * FROM FlowmeterGantry WHERE ID = '3' AND time >= ${timestampToday}ms;`;\nmsg.query += `SELECT * FROM FlowmeterGantry WHERE ID = '4' AND time >= ${timestampToday}ms;`;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1620,
        "wires": [
            [
                "d9c30395.5e0ac"
            ]
        ]
    },
    {
        "id": "62585e4b.6ef7",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1560,
        "wires": [
            [
                "ef5d6d20.0fd75"
            ]
        ]
    },
    {
        "id": "2283218.702d1de",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "func": "var da = msg.payload[0];\nvar db = msg.payload[1];\nvar dc = msg.payload[2];\nvar dd = msg.payload[3];\n\nvar timeA = [];\nvar timeB = [];\nvar timeC = [];\nvar timeD = [];\nvar valueA = [];\nvar valueB = [];\nvar valueC = [];\nvar valueD = [];\n\nfor (i = 0; i < da.length; i++) {\n    var dateA = new Date(da[i].time);\n    var hA = dateA.getHours();\n    var mA = dateA.getMinutes();\n    var sA = dateA.getSeconds();\n    var hourA = `${hA}:${mA}:${sA}`;   \n    timeA.push(hourA);\n    valueA.push(da[i].val);\n}\n\nfor (i = 0; i < db.length; i++) {\n    var dateB = new Date(db[i].time);\n    var hB = dateB.getHours();\n    var mB = dateB.getMinutes();\n    var sB = dateB.getSeconds();\n    var hourB = `${hB}:${mB}:${sB}`;   \n    timeB.push(hourB);\n    valueB.push(db[i].val);\n}\n\nfor (i = 0; i < dc.length; i++) {\n    var dateC = new Date(dc[i].time);\n    var hC = dateC.getHours();\n    var mC = dateC.getMinutes();\n    var sC = dateC.getSeconds();\n    var hourC = `${hC}:${mC}:${sC}`;   \n    timeC.push(hourC);\n    valueC.push(dc[i].val);\n}\n\nfor (i = 0; i < dd.length; i++) {\n    var dateD = new Date(dd[i].time);\n    var hD = dateD.getHours();\n    var mD = dateD.getMinutes();\n    var sD = dateD.getSeconds();\n    var hourD = `${hD}:${mD}:${sD}`;   \n    timeD.push(hourD);\n    valueD.push(dd[i].val);\n}\n\nmsg.payload = {\n  timeA: timeA,\n  timeB: timeB,\n  timeC: timeC,\n  timeD: timeD,\n  valA: valueA,\n  valB: valueB,\n  valC: valueC,\n  valD: valueD\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1620,
        "wires": [
            [
                "d8d9262e.2924c8",
                "21e0529f.e806be"
            ]
        ]
    },
    {
        "id": "d8d9262e.2924c8",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1620,
        "wires": []
    },
    {
        "id": "f3139035.d29",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "Chart Flowmeter",
        "url": "/chartFlowmeter",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 1620,
        "wires": [
            [
                "ef5d6d20.0fd75"
            ]
        ]
    },
    {
        "id": "21e0529f.e806be",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 1660,
        "wires": []
    },
    {
        "id": "26cee02e.e7efc",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1500,
        "wires": []
    },
    {
        "id": "92041094.9e0d1",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "func": "for (i=0; i<msg.payload[0].length; i++) {\n    msg.payload[0][i]['Date'] = getDate(msg.payload[0][i].EPO_BEFORE);\n    msg.payload[0][i]['DURATION'] = getDuration(msg.payload[0][i]);\n    msg.payload[0][i]['EPO_BEFORE'] = getWaktu(msg.payload[0][i].EPO_BEFORE);\n    msg.payload[0][i]['EPO_AFTER'] = getWaktu(msg.payload[0][i].EPO_AFTER);\n    msg.payload[0][i]['ID'] = \"G1\";\n}\n\nfor (i=0; i<msg.payload[1].length; i++) {\n    msg.payload[1][i]['Date'] = getDate(msg.payload[1][i].EPO_BEFORE);\n    msg.payload[1][i]['DURATION'] = getDuration(msg.payload[1][i]);\n    msg.payload[1][i]['EPO_BEFORE'] = getWaktu(msg.payload[1][i].EPO_BEFORE);\n    msg.payload[1][i]['EPO_AFTER'] = getWaktu(msg.payload[1][i].EPO_AFTER);\n    msg.payload[1][i]['ID'] = \"G2\";\n}\n\nfor (i=0; i<msg.payload[2].length; i++) {\n    msg.payload[2][i]['Date'] = getDate(msg.payload[2][i].EPO_BEFORE);\n    msg.payload[2][i]['DURATION'] = getDuration(msg.payload[2][i]);\n    msg.payload[2][i]['EPO_BEFORE'] = getWaktu(msg.payload[2][i].EPO_BEFORE);\n    msg.payload[2][i]['EPO_AFTER'] = getWaktu(msg.payload[2][i].EPO_AFTER);\n    msg.payload[2][i]['ID'] = \"G3\";\n}\n\nfor (i=0; i<msg.payload[3].length; i++) {\n    msg.payload[3][i]['Date'] = getDate(msg.payload[3][i].EPO_BEFORE);\n    msg.payload[3][i]['DURATION'] = getDuration(msg.payload[3][i]);\n    msg.payload[3][i]['EPO_BEFORE'] = getWaktu(msg.payload[3][i].EPO_BEFORE);\n    msg.payload[3][i]['EPO_AFTER'] = getWaktu(msg.payload[3][i].EPO_AFTER);\n    msg.payload[3][i]['ID'] = \"G4\";\n}\n\n\nmsg.payload = {\n    gentry1: msg.payload[0],\n    gentry2: msg.payload[1],\n    gentry3: msg.payload[2],\n    gentry4: msg.payload[3]\n}\n\nreturn msg;\n\nfunction getWaktu(time) {\n    var date = new Date(time);\n    var hours = date.getHours().toString().padStart(2, '0');\n    var minutes = date.getMinutes().toString().padStart(2, '0');\n    var timeString = hours + ':' + minutes;\n    return timeString;\n}\n\nfunction getDate(time) {\n    var date = new Date(time);\n    var year = date.getFullYear();\n    var month = (date.getMonth() + 1).toString().padStart(2, '0');\n    var day = date.getDate().toString().padStart(2, '0');\n    var dateString = year + '/' + month + '/' + day;\n    return dateString;\n}\n\nfunction getDuration(tA) {\n    var dt = Math.abs(tA.EPO_AFTER - tA.EPO_BEFORE);\n    var h = Math.floor(dt / (1000 * 60 * 60));\n    var m = Math.floor((dt % (1000 * 60 * 60)) / (1000 * 60));\n    var dta = h.toString().padStart(2, '0') + ':' + m.toString().padStart(2, '0');\n    return dta;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1500,
        "wires": [
            [
                "26cee02e.e7efc",
                "ed066cfa.461b1"
            ]
        ]
    },
    {
        "id": "7b6df461.b898dc",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "Tabel Flowmeter",
        "url": "/getTabelFlowmeter",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 1500,
        "wires": [
            [
                "81bb8c0.f45d978"
            ]
        ]
    },
    {
        "id": "ed066cfa.461b1",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 1540,
        "wires": []
    },
    {
        "id": "3bd5d792.077f18",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": " ",
        "func": "let today = new Date();\ntoday.setHours(0, 0, 0, 0);\nlet timestampToday = today.getTime();\n\nmsg.query = \"\";\nmsg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '1' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${timestampToday};`;\nmsg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '2' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${timestampToday};`;\nmsg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '3' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${timestampToday};`;\nmsg.query += `SELECT * FROM RecordFlowmeter WHERE ID = '4' AND EPO_AFTER != 0 AND Total_Val > 10 AND time >= ${timestampToday};`;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1720,
        "wires": [
            [
                "3a90d3fa.779a7c"
            ]
        ]
    },
    {
        "id": "62d1b0c7.c6965",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 1680,
        "wires": [
            [
                "3bd5d792.077f18"
            ]
        ]
    },
    {
        "id": "12d95098.a75d5f",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1720,
        "wires": []
    },
    {
        "id": "f404c908.241de8",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "func": "var totG1 = 0;\nvar totG2 = 0;\nvar totG3 = 0;\nvar totG4 = 0;\n\n\nfor (i=0; i<4; i++) {\n    if (msg.payload[i].length < 1) {\n        msg.payload[i] = [\n            {\n                Total_Val: 0,\n                EPO_AFTER: Date.now(),\n                EPO_BEFORE: Date.now()\n            }];\n        // msg.payload[i][0]['Total_Val'] = 0;\n        // msg.payload[i][0]['EPO_BEFORE'] = Date.now();\n        // msg.payload[i][0]['EPO_AFTER'] = Date.now();\n    }\n}\n\nvar len1 = msg.payload[0].length;\nvar len2 = msg.payload[1].length;\nvar len3 = msg.payload[2].length;\nvar len4 = msg.payload[3].length;\n\nfor (i=0; i<len1; i++) {\n    totG1 += msg.payload[0][i].Total_Val;\n    var tA1 = getWaktu(msg.payload[0][i].EPO_BEFORE);\n    var tB1 = getWaktu(msg.payload[0][i].EPO_AFTER);\n}\n\nfor (i=0; i<len2; i++) {\n    totG2 += msg.payload[1][i].Total_Val;   \n    var tA2 = getWaktu(msg.payload[1][i].EPO_BEFORE);\n    var tB2 = getWaktu(msg.payload[1][i].EPO_AFTER);\n}\n\nfor (i=0; i<len3; i++) {\n    totG3 += msg.payload[2][i].Total_Val;\n    var tA3 = getWaktu(msg.payload[2][i].EPO_BEFORE);\n    var tB3 = getWaktu(msg.payload[2][i].EPO_AFTER);\n}\n\nfor (i=0; i<len4; i++) {\n    totG4 += msg.payload[3][i].Total_Val;\n    var tA4 = getWaktu(msg.payload[3][i].EPO_BEFORE);\n    var tB4 = getWaktu(msg.payload[3][i].EPO_AFTER);\n}\n\n\nmsg.payload = {\n    gentry1: totG1,\n    gentry2: totG2,\n    gentry3: totG3,\n    gentry4: totG4,\n    time1: \"At \" + tA1 + \" - \" + tB1 + \" WITA\",\n    time2: \"At \" + tA2 + \" - \" + tB2 + \" WITA\",\n    time3: \"At \" + tA3 + \" - \" + tB3 + \" WITA\",\n    time4: \"At \" + tA4 + \" - \" + tB4 + \" WITA\",\n    add1: msg.payload[0][len1-1].Total_Val,\n    add2: msg.payload[1][len2-1].Total_Val,\n    add3: msg.payload[2][len3-1].Total_Val,\n    add4: msg.payload[3][len4-1].Total_Val\n}\n\nreturn msg;\n\nfunction getWaktu(time) {\n    var date = new Date(time);\n    var hours = date.getHours().toString().padStart(2, '0');\n    var minutes = date.getMinutes().toString().padStart(2, '0');\n    var timeString = hours + ':' + minutes;\n    return timeString;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1720,
        "wires": [
            [
                "12d95098.a75d5f",
                "ce5a3743.052bd8"
            ]
        ]
    },
    {
        "id": "9b370afc.3a8958",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "Data Flowmeter",
        "url": "/getDataFlow",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 1720,
        "wires": [
            [
                "3bd5d792.077f18"
            ]
        ]
    },
    {
        "id": "ce5a3743.052bd8",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 790,
        "y": 1760,
        "wires": []
    },
    {
        "id": "64c5cfd.c256d3",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": " ",
        "func": "msg.query = `SELECT * FROM StatusGantry`;\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1820,
        "wires": [
            [
                "62dba0db.44159"
            ]
        ]
    },
    {
        "id": "9f0237f7.8cf0f8",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 1780,
        "wires": [
            [
                "64c5cfd.c256d3"
            ]
        ]
    },
    {
        "id": "464f2bbe.bbc934",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 1820,
        "wires": []
    },
    {
        "id": "cfd3a907.2622e8",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "Status Gentry",
        "url": "/getStatusGentry",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 290,
        "y": 1820,
        "wires": [
            [
                "64c5cfd.c256d3"
            ]
        ]
    },
    {
        "id": "4ace3720.ac77e8",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 770,
        "y": 1860,
        "wires": []
    },
    {
        "id": "d7b63cf8.6b4f",
        "type": "http in",
        "z": "b0c48d96.b10fb",
        "name": "Tabel Data",
        "url": "/getTabelData",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 2060,
        "wires": [
            [
                "c300f5fd.d1e068"
            ]
        ]
    },
    {
        "id": "c300f5fd.d1e068",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "name": " ",
        "func": "var d = msg.payload;\n\nif (d.data == \"1\") {\n    msg.query = \"SELECT * FROM StatusFuelTempGrafana order by time desc limit 50;\";\n} else if (d.data == \"2\") {\n    var start = d.start;\n    var end = d.end;\n    msg.query = `SELECT * FROM StatusFuelTempGrafana WHERE time >= ${start}000000000 AND time <= ${end}000000000;`;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 2060,
        "wires": [
            [
                "b7c5ca9d.a22938"
            ]
        ]
    },
    {
        "id": "3a69b45e.8484ac",
        "type": "inject",
        "z": "b0c48d96.b10fb",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 2000,
        "wires": [
            [
                "c300f5fd.d1e068"
            ]
        ]
    },
    {
        "id": "2ee8f1f.827fb0e",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "name": " ",
        "func": "var d = msg.payload.results[0].series[0].values;\nvar da = msg.payload.results[0].series[0].columns;\nvar arr = [];\n\n\nfor(i=0;i<d.length;i++){\n    var myTime = getWaktu(d[i][0]);\n    var json = {};\n    json[da[0]] = d[i][0];\n    json[da[1]] = d[i][1];\n    json[da[2]] = d[i][2];\n    json[da[3]] = d[i][3];\n    json[da[4]] = d[i][4];\n    json[da[5]] = d[i][5];\n    json[da[6]] = d[i][6];\n    json[da[7]] = d[i][7];\n    json[da[8]] = d[i][8];\n    json[da[9]] = d[i][9];\n    json[da[10]] = d[i][10];\n    json[da[11]] = d[i][11];\n    json[da[12]] = d[i][12];\n    json['Waktu'] = myTime.time;\n    json['Date'] = myTime.date;\n    arr.push(json);\n}\nmsg.payload= arr;\nreturn msg;\n\nfunction getWaktu(time) {\n    var date = new Date(time / 1000000);\n    var year = date.getFullYear();\n    var month = (date.getMonth() + 1).toString().padStart(2, '0');\n    var day = date.getDate().toString().padStart(2, '0');\n\n    var hours = date.getHours().toString().padStart(2, '0');\n    var minutes = date.getMinutes().toString().padStart(2, '0');\n    var timeString = hours + ':' + minutes;\n    var dateString = year + '/' + month + '/' + day;\n\n    return {\n        time: timeString,\n        date: dateString\n    };\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 2060,
        "wires": [
            [
                "eaf123fe.b48da"
            ]
        ]
    },
    {
        "id": "46802ea3.52ecf",
        "type": "http response",
        "z": "b0c48d96.b10fb",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 910,
        "y": 2060,
        "wires": []
    },
    {
        "id": "eaf123fe.b48da",
        "type": "function",
        "z": "b0c48d96.b10fb",
        "name": "",
        "func": "let payload = msg.payload;\n\npayload.forEach(item => {\n    for (let key in item) {\n        if (item[key] === -1) {\n            item[key] = 0;\n        }\n    }\n});\n\nmsg.payload = payload;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 2060,
        "wires": [
            [
                "ae403560.6c8e08",
                "46802ea3.52ecf"
            ]
        ]
    },
    {
        "id": "ae403560.6c8e08",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 2000,
        "wires": []
    },
    {
        "id": "3958aa4a.9f17d6",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 340,
        "y": 1240,
        "wires": []
    },
    {
        "id": "db68f84a.348b08",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 430,
        "y": 1140,
        "wires": [
            [
                "fb5c17b2.085458"
            ]
        ]
    },
    {
        "id": "a3e269f9.425ab8",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "81be96ea.0b0df8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 470,
        "y": 1300,
        "wires": [
            [
                "f0f7433b.31225"
            ]
        ]
    },
    {
        "id": "66d4772f.e90c28",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 1500,
        "wires": [
            [
                "92041094.9e0d1"
            ]
        ]
    },
    {
        "id": "d9c30395.5e0ac",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 1620,
        "wires": [
            [
                "2283218.702d1de"
            ]
        ]
    },
    {
        "id": "3a90d3fa.779a7c",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 490,
        "y": 1720,
        "wires": [
            [
                "f404c908.241de8"
            ]
        ]
    },
    {
        "id": "62dba0db.44159",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "g": "ce348537.9de0d8",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 610,
        "y": 1820,
        "wires": [
            [
                "464f2bbe.bbc934",
                "4ace3720.ac77e8"
            ]
        ]
    },
    {
        "id": "b7c5ca9d.a22938",
        "type": "influxdb in",
        "z": "b0c48d96.b10fb",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": true,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 450,
        "y": 2060,
        "wires": [
            [
                "2ee8f1f.827fb0e"
            ]
        ]
    },
    {
        "id": "52e3c5a5f66efe0e",
        "type": "mqtt in",
        "z": "b0c48d96.b10fb",
        "name": "",
        "topic": "Test",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "84bfef4e.7ae4d",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 920,
        "y": 360,
        "wires": [
            [
                "5d2e1d11da2b0aa0"
            ]
        ]
    },
    {
        "id": "5d2e1d11da2b0aa0",
        "type": "debug",
        "z": "b0c48d96.b10fb",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1090,
        "y": 360,
        "wires": []
    },
    {
        "id": "98cc22ea.3b478",
        "type": "inject",
        "z": "905a82.fdaaf58",
        "name": " ",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "fcb64a22.75eec8",
                "791fa65c.411d68"
            ]
        ]
    },
    {
        "id": "9eb624c5.7bfeb8",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": " ",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "time",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 510,
        "y": 160,
        "wires": []
    },
    {
        "id": "fcb64a22.75eec8",
        "type": "function",
        "z": "905a82.fdaaf58",
        "name": " ",
        "func": "msg.time = String(new Date(msg.payload)).substring(0,25);\nflow.set(\"now\",new Date(msg.payload));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "9eb624c5.7bfeb8"
            ]
        ]
    },
    {
        "id": "791fa65c.411d68",
        "type": "function",
        "z": "905a82.fdaaf58",
        "name": " ",
        "func": "msg.query = \"\";\nmsg.query += \"select * from FuelTangki1 order by time desc limit 1;\";\nmsg.query += \"select * from FuelTangki2 order by time desc limit 1;\";\nmsg.query += \"select * from FuelTangki3 order by time desc limit 1;\";\nmsg.query += \"select * from FuelTangki4 order by time desc limit 1;\";\n\nmsg.query += \"select * from TempTangki1 order by time desc limit 1;\";\nmsg.query += \"select * from TempTangki2 order by time desc limit 1;\";\nmsg.query += \"select * from TempTangki3 order by time desc limit 1;\";\nmsg.query += \"select * from TempTangki4 order by time desc limit 1;\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 240,
        "wires": [
            [
                "ba2696d8.46b7d8"
            ]
        ]
    },
    {
        "id": "8364c968.02de28",
        "type": "function",
        "z": "905a82.fdaaf58",
        "name": " ",
        "func": "var d = msg.payload;\nvar arr = [];\nfor(i=0;i<d.length;i++){\n    var t = flow.get(\"now\");\n    arr.push(times(Math.round((t-(d[i][0].time*1))/1000)));\n}\nmsg.payload = arr;\nreturn msg;\n\nfunction times(seconds) {\nseconds = Number(seconds);\nvar d = Math.floor(seconds / (3600*24));\nvar h = Math.floor(seconds % (3600*24) / 3600);\nvar m = Math.floor(seconds % 3600 / 60);\nvar s = Math.floor(seconds % 60);\n\nvar dDisplay = d > 0 ? d + (d == 1 ? \" day, \" : \" days, \") : \"\";\nvar hDisplay = h > 0 ? h + (h == 1 ? \" hour, \" : \" hours, \") : \"\";\nvar mDisplay = m > 0 ? m + (m == 1 ? \" minute, \" : \" minutes, \") : \"\";\nvar sDisplay = s > 0 ? s + (s == 1 ? \" second\" : \" seconds\") : \"\";\nreturn dDisplay + hDisplay + mDisplay + sDisplay;\n}\n\n// function times(x){\n//     var sec_num = parseInt(x, 10); // don't forget the second param\n//     var hours   = Math.floor(sec_num / 3600);\n//     var days = Math.round(hours/24);\n//     var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n//     var seconds = sec_num - (hours * 3600) - (minutes * 60);\n//     var str = \"\";\n//     if (days   < 1) {hours   = \"\"+hours;}else{str+= days+' Days, '}\n//     if (hours   < 1) {hours   = \"\"+hours;}else{str+= hours+' Hours, '}\n//     if (minutes < 1) {minutes = \"\"+minutes;}else{str+= minutes+' Minutes, '}\n//     if (seconds < 1) {seconds = \"\"+seconds;}else{str+= seconds+' Seconds'}\n//     return str;\n// }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 360,
        "wires": [
            [
                "8fd168f8.c06288",
                "18db3ff1.ce912",
                "f149d7bf.db26d8",
                "c6da0810.fd9a88",
                "4bb4da79.b59484",
                "f6dbeca8.fb6a",
                "72603b39.e679f4",
                "310da96c.3b6bc6",
                "6555eeec.cce28",
                "f36074ff.35cad8"
            ]
        ]
    },
    {
        "id": "8fd168f8.c06288",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": " Fuel1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[0]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 300,
        "wires": []
    },
    {
        "id": "18db3ff1.ce912",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": " Fuel2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[1]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 360,
        "wires": []
    },
    {
        "id": "f149d7bf.db26d8",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": " Fuel3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[2]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 420,
        "wires": []
    },
    {
        "id": "c6da0810.fd9a88",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": " Fuel4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[3]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 480,
        "wires": []
    },
    {
        "id": "4bb4da79.b59484",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": "Temp1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[4]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 540,
        "wires": []
    },
    {
        "id": "f6dbeca8.fb6a",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": "Temp2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[5]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 600,
        "wires": []
    },
    {
        "id": "72603b39.e679f4",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": "Temp3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[6]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 660,
        "wires": []
    },
    {
        "id": "310da96c.3b6bc6",
        "type": "debug",
        "z": "905a82.fdaaf58",
        "name": "Temp4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": true,
        "complete": "payload[7]",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 350,
        "y": 720,
        "wires": []
    },
    {
        "id": "6555eeec.cce28",
        "type": "trigger",
        "z": "905a82.fdaaf58",
        "name": " ",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "100",
        "extend": true,
        "overrideDelay": true,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 590,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "f36074ff.35cad8",
        "type": "function",
        "z": "905a82.fdaaf58",
        "name": " ",
        "func": "if(flow.get(\"Longest\") == undefined){\n    flow.set(\"Longest\",\"\");\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "ba2696d8.46b7d8",
        "type": "influxdb in",
        "z": "905a82.fdaaf58",
        "influxdb": "ac2f667d.928a08",
        "name": "DB",
        "query": "",
        "rawOutput": false,
        "precision": "n",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 190,
        "y": 300,
        "wires": [
            [
                "8364c968.02de28"
            ]
        ]
    },
    {
        "id": "df679f8.e7e5f6",
        "type": "inject",
        "z": "6e83e7a9.0f97a8",
        "name": "",
        "props": [
            {
                "p": "query",
                "v": "select * from StatusFuelTemp;",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 80,
        "y": 80,
        "wires": [
            [
                "c5671119.d5a69"
            ]
        ]
    },
    {
        "id": "1dd9f90c.3b4937",
        "type": "debug",
        "z": "6e83e7a9.0f97a8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 120,
        "wires": []
    },
    {
        "id": "c5671119.d5a69",
        "type": "influxdb in",
        "z": "6e83e7a9.0f97a8",
        "influxdb": "ac2f667d.928a08",
        "name": "",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "organisation",
        "x": 190,
        "y": 220,
        "wires": [
            [
                "17d53f5b.63d181"
            ]
        ]
    },
    {
        "id": "17d53f5b.63d181",
        "type": "excel",
        "z": "6e83e7a9.0f97a8",
        "name": "",
        "file": "/home/pi/Excel/FuelTemp.xlsx",
        "x": 340,
        "y": 380,
        "wires": [
            [
                "1dd9f90c.3b4937"
            ]
        ]
    },
    {
        "id": "fa8953c2.b8e12",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "Request",
        "func": "msg.payload = { value: msg.payload,\n'fc': 3,\n'unitid': 1, \n'address': 2602 , \n'quantity': 2 }; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 38.00000762939453,
        "wires": [
            [
                "4655e9ec.33a088"
            ]
        ]
    },
    {
        "id": "397df8c7.ed4e68",
        "type": "inject",
        "z": "a15ab1d7.fa063",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 101,
        "y": 38.00000762939453,
        "wires": [
            [
                "fa8953c2.b8e12"
            ]
        ]
    },
    {
        "id": "6582ed29.ff8cbc",
        "type": "buffer-parser",
        "z": "a15ab1d7.fa063",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "uint16be",
                "name": "L1U",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 117.33335876464844,
        "y": 154,
        "wires": [
            [
                "5bd0c929.2c53f8"
            ]
        ]
    },
    {
        "id": "5bd0c929.2c53f8",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 290,
        "y": 160,
        "wires": []
    },
    {
        "id": "bfa78e69.6f689",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "811.1044",
        "info": "",
        "x": 640,
        "y": 220,
        "wires": []
    },
    {
        "id": "406fdf3d.cb19c",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "508.63",
        "info": "",
        "x": 630,
        "y": 260,
        "wires": []
    },
    {
        "id": "c899508a.b3861",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "Request",
        "func": "msg.payload = { value: msg.payload,\n'fc': 3,\n'unitid': 1, \n'address': 2440 , \n'quantity': 8 }; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 240,
        "wires": [
            [
                "aaf86ccc.eca55"
            ]
        ]
    },
    {
        "id": "30e196a5.d0565a",
        "type": "inject",
        "z": "a15ab1d7.fa063",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 111,
        "y": 240,
        "wires": [
            [
                "c899508a.b3861"
            ]
        ]
    },
    {
        "id": "e7988afb.1ae298",
        "type": "buffer-parser",
        "z": "a15ab1d7.fa063",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "string",
                "name": "value",
                "offset": 0,
                "length": 8,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 130,
        "y": 360,
        "wires": [
            [
                "cb64f638.6f9ec8"
            ]
        ]
    },
    {
        "id": "cb64f638.6f9ec8",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 360,
        "wires": []
    },
    {
        "id": "82fa7281.c580d",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "ContohClear",
        "info": "",
        "x": 370,
        "y": 300,
        "wires": []
    },
    {
        "id": "4498ed0a.bed504",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "Request",
        "func": "msg.payload = { \n    value: msg.payload,\n    'fc': 3,\n    'unitid': 1, \n    'address': 2603 ,\n    'quantity': 2\n}; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 440,
        "wires": [
            [
                "e5d7469b.617218"
            ]
        ]
    },
    {
        "id": "93e78265.bd0b5",
        "type": "inject",
        "z": "a15ab1d7.fa063",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 111,
        "y": 440,
        "wires": [
            [
                "4498ed0a.bed504"
            ]
        ]
    },
    {
        "id": "e5f22f1.d15b3d",
        "type": "buffer-parser",
        "z": "a15ab1d7.fa063",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 130,
        "y": 560,
        "wires": [
            [
                "f61f3cd7.5985f"
            ]
        ]
    },
    {
        "id": "f61f3cd7.5985f",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 560,
        "wires": []
    },
    {
        "id": "1e5abfec.6beb3",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "ContohDensityClear1",
        "info": "",
        "x": 400,
        "y": 500,
        "wires": []
    },
    {
        "id": "b1fc7b76.c93738",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "Request",
        "func": "msg.payload = { \n    value: msg.payload,\n    'fc': 3,\n    'unitid': 1, \n    'address': 2635 ,\n    'quantity': 3\n}; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 620,
        "wires": [
            [
                "ebf07021.614e6"
            ]
        ]
    },
    {
        "id": "4d8b342f.c0994c",
        "type": "inject",
        "z": "a15ab1d7.fa063",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 111,
        "y": 620,
        "wires": [
            [
                "b1fc7b76.c93738"
            ]
        ]
    },
    {
        "id": "f78374a3.f94388",
        "type": "buffer-parser",
        "z": "a15ab1d7.fa063",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 130,
        "y": 740,
        "wires": [
            [
                "6b652fa3.6efef"
            ]
        ]
    },
    {
        "id": "6b652fa3.6efef",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 310,
        "y": 740,
        "wires": []
    },
    {
        "id": "7d4bb37.5d87f4c",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "ContohDensityClear2",
        "info": "",
        "x": 400,
        "y": 680,
        "wires": []
    },
    {
        "id": "9faad51.d9f2528",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 480,
        "wires": []
    },
    {
        "id": "7b8fed54.343b74",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "Request",
        "func": "msg.payload = { \n    value: msg.payload,\n    'fc': 3,\n    'unitid': 1, \n    'address': 2525 ,\n    'quantity': 2\n}; \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 800,
        "wires": [
            [
                "78fd9be5.cf2974"
            ]
        ]
    },
    {
        "id": "15c2b62e.4bbfba",
        "type": "inject",
        "z": "a15ab1d7.fa063",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 131,
        "y": 800,
        "wires": [
            [
                "7b8fed54.343b74"
            ]
        ]
    },
    {
        "id": "a6d1cb98.36cfb8",
        "type": "buffer-parser",
        "z": "a15ab1d7.fa063",
        "name": "",
        "data": "payload.buffer",
        "dataType": "msg",
        "specification": "spec",
        "specificationType": "ui",
        "items": [
            {
                "type": "floatbe",
                "name": "value",
                "offset": 0,
                "length": 1,
                "offsetbit": 0,
                "scale": "0.01",
                "mask": ""
            }
        ],
        "swap1": "",
        "swap2": "",
        "swap3": "",
        "swap1Type": "swap",
        "swap2Type": "swap",
        "swap3Type": "swap",
        "msgProperty": "payload",
        "msgPropertyType": "str",
        "resultType": "keyvalue",
        "resultTypeType": "output",
        "multipleResult": false,
        "fanOutMultipleResult": false,
        "setTopic": true,
        "outputs": 1,
        "x": 150,
        "y": 920,
        "wires": [
            [
                "a8ad8a37.d4aec8"
            ]
        ]
    },
    {
        "id": "a8ad8a37.d4aec8",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 920,
        "wires": []
    },
    {
        "id": "16306431.82149c",
        "type": "comment",
        "z": "a15ab1d7.fa063",
        "name": "ContohDensityClear2",
        "info": "",
        "x": 420,
        "y": 860,
        "wires": []
    },
    {
        "id": "e303865.e88c178",
        "type": "mqtt out",
        "z": "a15ab1d7.fa063",
        "name": "",
        "topic": "ToVB",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "84bfef4e.7ae4d",
        "x": 990,
        "y": 160,
        "wires": []
    },
    {
        "id": "e07d6f29.699eb",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": "toVB",
        "func": "var d  = msg.payload;\nfor(i=1;i<=4;i++){\n    d['TempTangki'+i]=map_range(d['TempTangki'+i],400,2000,0,100);\n}\nmsg.payload = d;\nmsg.payload = JSON. stringify(msg.payload);\nmsg.payload = \"sensor/)\"+msg.payload;\nreturn msg;\n\nfunction map_range(value, low1, high1, low2, high2) {\n    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 160,
        "wires": [
            [
                "e303865.e88c178",
                "4fe1c944.09f058"
            ]
        ]
    },
    {
        "id": "4fe1c944.09f058",
        "type": "debug",
        "z": "a15ab1d7.fa063",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 120,
        "wires": []
    },
    {
        "id": "e23baf97.da891",
        "type": "function",
        "z": "a15ab1d7.fa063",
        "name": " ",
        "func": "var data = msg.payload;\nvar msg1,msg2,msg3,msg4;\nmsg1 = { payload : data.Tangki1 }\nmsg2 = { payload : data.Tangki2 }\nmsg3 = { payload : data.Tangki3 }\nmsg4 = { payload : data.Tangki4 }\nreturn [msg1,msg2,msg3,msg4];",
        "outputs": 4,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 280,
        "wires": [
            [
                "8b00c8f7.432d68"
            ],
            [
                "74f5883c.28c238"
            ],
            [
                "c8f7886e.3c76f8"
            ],
            [
                "885f5a69.31a8b8"
            ]
        ]
    },
    {
        "id": "8b00c8f7.432d68",
        "type": "link out",
        "z": "a15ab1d7.fa063",
        "name": "L1",
        "links": [
            "e3a39bf5.847088",
            "b57a0e2a.13877",
            "c418ab14.c2eb18",
            "85e5de5a.20c17"
        ],
        "x": 1235,
        "y": 220,
        "wires": []
    },
    {
        "id": "74f5883c.28c238",
        "type": "link out",
        "z": "a15ab1d7.fa063",
        "name": "L2",
        "links": [
            "a1a56af4.bf8798",
            "285883fa.6363fc"
        ],
        "x": 1235,
        "y": 260,
        "wires": []
    },
    {
        "id": "c8f7886e.3c76f8",
        "type": "link out",
        "z": "a15ab1d7.fa063",
        "name": "L3",
        "links": [
            "d1b0e98a.b7c5c8",
            "b4cb5915.ada458"
        ],
        "x": 1235,
        "y": 300,
        "wires": []
    },
    {
        "id": "885f5a69.31a8b8",
        "type": "link out",
        "z": "a15ab1d7.fa063",
        "name": "L4",
        "links": [
            "66f19641.cc41f8",
            "848b7730.fe9bd8"
        ],
        "x": 1235,
        "y": 340,
        "wires": []
    },
    {
        "id": "4655e9ec.33a088",
        "type": "modbus-flex-getter",
        "z": "a15ab1d7.fa063",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "logIOActivities": false,
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 134.99998474121094,
        "y": 94.00000762939453,
        "wires": [
            [],
            [
                "6582ed29.ff8cbc"
            ]
        ]
    },
    {
        "id": "aaf86ccc.eca55",
        "type": "modbus-flex-getter",
        "z": "a15ab1d7.fa063",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "logIOActivities": false,
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 144.99998474121094,
        "y": 296,
        "wires": [
            [],
            [
                "e7988afb.1ae298"
            ]
        ]
    },
    {
        "id": "e5d7469b.617218",
        "type": "modbus-flex-getter",
        "z": "a15ab1d7.fa063",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "logIOActivities": false,
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 144.99998474121094,
        "y": 496,
        "wires": [
            [],
            [
                "e5f22f1.d15b3d"
            ]
        ]
    },
    {
        "id": "ebf07021.614e6",
        "type": "modbus-flex-getter",
        "z": "a15ab1d7.fa063",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "logIOActivities": false,
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 144.99998474121094,
        "y": 676,
        "wires": [
            [],
            [
                "f78374a3.f94388"
            ]
        ]
    },
    {
        "id": "78fd9be5.cf2974",
        "type": "modbus-flex-getter",
        "z": "a15ab1d7.fa063",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "logIOActivities": false,
        "server": "c8587358.83019",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "x": 164.99998474121094,
        "y": 856,
        "wires": [
            [],
            [
                "a6d1cb98.36cfb8"
            ]
        ]
    }
]